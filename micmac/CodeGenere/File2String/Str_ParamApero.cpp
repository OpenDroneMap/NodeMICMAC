#include "StdAfx.h"
const char * (theNameVar_ParamApero[1842]) = {
"<GenCpp>\n",
"\n",
"<Verbatim File=\".h.cpp\">\n",
"#include \"StdAfx.h\"\n",
"</Verbatim>\n",
"<Verbatim  File=\".h\">\n",
"#ifndef Define_NotApero\n",
"#define Define_NotApero\n",
"</Verbatim>\n",
"<Verbatim File=\".cpp\">\n",
"// UNUSED #include \"cParamApero.h\"\n",
"</Verbatim>\n",
"\n",
"<Verbatim File=\".h\">\n",
"// #include \"XML_GEN/all.h\"\n",
"</Verbatim>\n",
"\n",
"<Verbatim File=\".h.cpp\">\n",
"// NO MORE ... \n",
"</Verbatim>\n",
"\n",
"\n",
"<!--  0 : Fige ;   1 : Libre -->\n",
"<enum Name=\"eTypeContrainteCalibCamera\">\n",
"\n",
"   <eAllParamLibres>      </eAllParamLibres>\n",
"   <eAllParamFiges>       </eAllParamFiges>\n",
"   \n",
"  <!-- Concerne les modele generique, pour l'instant Ebner / D.C. Brown -->\n",
"\n",
"   <eLiberteParamDeg_0>   </eLiberteParamDeg_0>  <!-- Fige tous les param aux -->\n",
"   <eLiberteParamDeg_1>   </eLiberteParamDeg_1>  <!-- Libere les param affine -->\n",
"   <eLiberteParamDeg_2>   </eLiberteParamDeg_2>  <!-- Libere les param affine et quad -->\n",
"   <eLiberteParamDeg_3>   </eLiberteParamDeg_3>  \n",
"   <eLiberteParamDeg_4>   </eLiberteParamDeg_4>  \n",
"   <eLiberteParamDeg_5>   </eLiberteParamDeg_5>  \n",
"   <eLiberteParamDeg_6>   </eLiberteParamDeg_6>  \n",
"   <eLiberteParamDeg_7>   </eLiberteParamDeg_7>  \n",
"\n",
"   <!-- les variantes ci dessous gardent bloques les parametrs de degre 1,\n",
"   peut etre utile avec les eq homographiques ? -->\n",
"   <eLiberteParamDeg_2_NoAff>   </eLiberteParamDeg_2_NoAff> \n",
"   <eLiberteParamDeg_3_NoAff>   </eLiberteParamDeg_3_NoAff>  \n",
"   <eLiberteParamDeg_4_NoAff>   </eLiberteParamDeg_4_NoAff>  \n",
"   <eLiberteParamDeg_5_NoAff>   </eLiberteParamDeg_5_NoAff>  \n",
"\n",
"\n",
"\n",
"\n",
"  <!-- Concerne les model specifique, genre Poivillier ou Fraser -->\n",
"    <eLiberteFocale_0>   </eLiberteFocale_0>\n",
"    <eLiberteFocale_1>   </eLiberteFocale_1>\n",
"                       \n",
"     <eLib_PP_CD_00>           </eLib_PP_CD_00>\n",
"     <eLib_PP_CD_10>           </eLib_PP_CD_10>\n",
"     <eLib_PP_CD_01>           </eLib_PP_CD_01>\n",
"     <eLib_PP_CD_11>           </eLib_PP_CD_11>\n",
"     <eLib_PP_CD_Lies>         </eLib_PP_CD_Lies>\n",
"\n",
"     <eLiberte_DR0>       </eLiberte_DR0>\n",
"     <eLiberte_DR1>       </eLiberte_DR1>\n",
"     <eLiberte_DR2>       </eLiberte_DR2>\n",
"     <eLiberte_DR3>       </eLiberte_DR3>\n",
"     <eLiberte_DR4>       </eLiberte_DR4>\n",
"     <eLiberte_DR5>       </eLiberte_DR5>\n",
"     <eLiberte_DR6>       </eLiberte_DR6>\n",
"     <eLiberte_DR7>       </eLiberte_DR7>\n",
"     <eLiberte_DR8>       </eLiberte_DR8>\n",
"     <eLiberte_DR9>       </eLiberte_DR9>\n",
"     <eLiberte_DR10>       </eLiberte_DR10>\n",
"\n",
"\n",
"     <!-- Reserve au Fish Eye -->\n",
"     <eLiberte_Dec0>       </eLiberte_Dec0>\n",
"     <eLiberte_Dec1>       </eLiberte_Dec1>\n",
"     <eLiberte_Dec2>       </eLiberte_Dec2>\n",
"     <eLiberte_Dec3>       </eLiberte_Dec3>\n",
"     <eLiberte_Dec4>       </eLiberte_Dec4>\n",
"     <eLiberte_Dec5>       </eLiberte_Dec5>\n",
"     \n",
"     <!-- Aff-in et Dec-entrique -->\n",
"     <eLiberte_Phgr_Std_Aff>    </eLiberte_Phgr_Std_Aff>\n",
"     <eLiberte_Phgr_Std_Dec>    </eLiberte_Phgr_Std_Dec>\n",
"     <eFige_Phgr_Std_Aff>            </eFige_Phgr_Std_Aff>\n",
"     <eFige_Phgr_Std_Dec>            </eFige_Phgr_Std_Dec>\n",
"\n",
"\n",
"     <!-- Param AFOCAL  -->\n",
"\n",
"     <eLiberte_AFocal0>       </eLiberte_AFocal0>\n",
"     <eLiberte_AFocal1>       </eLiberte_AFocal1>\n",
"     <eFige_AFocal0>          </eFige_AFocal0>\n",
"     <eFige_AFocal1>          </eFige_AFocal1>\n",
"\n",
"</enum>\n",
"\n",
"<enum Name=\"eTypeCalibAutom\">\n",
"    <eCalibAutomRadial>              </eCalibAutomRadial>\n",
"    <eCalibAutomPhgrStd>             </eCalibAutomPhgrStd>\n",
"    <eCalibAutomFishEyeLineaire>     </eCalibAutomFishEyeLineaire>\n",
"    <eCalibAutomFishEyeEquiSolid>     </eCalibAutomFishEyeEquiSolid>\n",
"<!--  PPa=PPs for eCalibAutomRadialBasic and eCalibAutomPhgrStdBasic -->\n",
"    <eCalibAutomRadialBasic>          </eCalibAutomRadialBasic>\n",
"    <eCalibAutomPhgrStdBasic>         </eCalibAutomPhgrStdBasic>\n",
"    <eCalibAutomFour7x2>                 </eCalibAutomFour7x2>\n",
"    <eCalibAutomFour11x2>                 </eCalibAutomFour11x2>\n",
"    <eCalibAutomFour15x2>                 </eCalibAutomFour15x2>\n",
"    <eCalibAutomFour19x2>                 </eCalibAutomFour19x2>\n",
"    <eCalibAutomEbner>                 </eCalibAutomEbner>\n",
"    <eCalibAutomBrown>                 </eCalibAutomBrown>\n",
"    <eCalibAutomFishEyeStereographique>     </eCalibAutomFishEyeStereographique>\n",
"    <eCalibAutomNone>                 </eCalibAutomNone>\n",
"</enum>\n",
"\n",
"   \n",
"<enum Name=\"eTypeContraintePoseCamera\">\n",
"    <ePoseLibre>         </ePoseLibre>\n",
"    <ePoseFigee>         </ePoseFigee>\n",
"    <ePoseBaseNormee>    </ePoseBaseNormee>\n",
"    <ePoseVraieBaseNormee>    </ePoseVraieBaseNormee>\n",
"    <eCentreFige>             </eCentreFige>\n",
"    <eAnglesFiges>            </eAnglesFiges>\n",
"</enum>\n",
"\n",
"<enum Name=\"eTypeVerif\">\n",
" <!-- DoDZ regarde ce qui se passe quand on supprime les points de l'image elle meme\n",
"      dans la compensation. Sans doute pour tester les pb de biais\n",
"-->\n",
"    <eVerifDZ> </eVerifDZ>\n",
"<!--  Residu Per Im -->\n",
"    <eVerifResPerIm> </eVerifResPerIm>\n",
"</enum>\n",
"\n",
"\n",
"<enum Name=\"eTypeResulPtsBundle\">\n",
"    <eTRPB_Ok>      </eTRPB_Ok>\n",
"    <eTRPB_InsufPoseInit>      </eTRPB_InsufPoseInit>\n",
"    <eTRPB_PdsResNull> </eTRPB_PdsResNull>\n",
"    <eTRPB_NotInMasq3D> </eTRPB_NotInMasq3D>\n",
"    <eTRPB_BSurH>   </eTRPB_BSurH>\n",
"    <eTRPB_Behind>   </eTRPB_Behind>\n",
"    <eTRPB_VisibIm> </eTRPB_VisibIm>\n",
"    <eTRPB_OutIm> </eTRPB_OutIm>\n",
"    <eTRPB_PbInterBundle> </eTRPB_PbInterBundle>\n",
"    <eTRPB_RatioDistP2Cam> </eTRPB_RatioDistP2Cam>\n",
"    <eTRPB_Unknown> </eTRPB_Unknown>\n",
"    <eTRPB_NbVals> </eTRPB_NbVals>\n",
"</enum>\n",
"\n",
"\n",
"\n",
"     <!-- Type de ponderation pour le Minimum Spaning Tree de mise en place-->\n",
"<enum Name=\"eTypePondMST_MEP\">\n",
"    <eMST_PondCard> </eMST_PondCard>\n",
"</enum>\n",
"\n",
"\n",
"     <!-- Mode de controle de la desente dicothomique dans la direction du gradient -->\n",
"<enum Name=\"eControleDescDic\">\n",
"    <eCDD_Jamais> </eCDD_Jamais>\n",
"    <eCDD_OnRemontee> </eCDD_OnRemontee>\n",
"    <eCDD_Toujours> </eCDD_Toujours>\n",
"</enum>\n",
"\n",
"\n",
"\n",
"<enum  Name=\"eModePonderationRobuste\">\n",
"    <ePondL2>  </ePondL2>   <!-- Basique -->\n",
"    <ePondL1>  </ePondL1>   <!-- Deconseille -->\n",
"    <ePondLK>  </ePondLK>   <!-- Cuisine, selon moi -->\n",
"\n",
"    <ePondGauss> </ePondGauss> <!-- ePondGauss et ePondArcTgt : se valent -->\n",
"    <eL1Secured> </eL1Secured>  <!-- sqrt(1/(1+(X/Sigma)2)) -->\n",
"</enum>\n",
"\n",
"\n",
"<enum Name=\"eUniteMesureErreur\">\n",
"    <eUME_Radian>  </eUME_Radian>\n",
"    <eUME_Image>   </eUME_Image>      <!-- Donc en  pixel -->\n",
"    <eUME_Terrain> </eUME_Terrain>    <!-- Donc en metre, en general -->\n",
"    <eUME_Naturel>  </eUME_Naturel>    <!-- Un peu dangereux mais pratique : Liaison ->image, Appuis->Terrain -->\n",
"</enum>\n",
"\n",
"<enum Name=\"eNiveauShowMessage\">\n",
"    <eNSM_None>          </eNSM_None>\n",
"    <eNSM_Iter>          </eNSM_Iter>\n",
"    <eNSM_Paquet>        </eNSM_Paquet>\n",
"    <eNSM_Percentile>    </eNSM_Percentile>\n",
"    <eNSM_CpleIm>        </eNSM_CpleIm>\n",
"    <eNSM_Indiv>         </eNSM_Indiv>\n",
"</enum>\n",
"\n",
"\n",
"<enum Name=\"eModePointLiaison\">\n",
"    <eMPL_DbleCoplanIm>     </eMPL_DbleCoplanIm>  <!-- Mode \"historique\" -->\n",
"    <eMPL_PtTerrainInc>     </eMPL_PtTerrainInc>  <!-- Mode recommande -->\n",
"</enum>\n",
"\n",
"\n",
"<OptimizationPowel Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <PowPointLiaisons Nb=\"*\"> \n",
"           <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"           <NbTot Nb=\"1\" Type=\"int\">      </NbTot>\n",
"           <Pds Nb=\"?\" Type=\"double\" Def=\"1.0\"> </Pds>\n",
"     </PowPointLiaisons>\n",
"</OptimizationPowel>\n",
"\n",
"<ShowPbLiaison Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <NbMinPtsMul Nb=\"?\" Type=\"int\" Nb=\"20\"> </NbMinPtsMul>\n",
"    <Actif Nb=\"?\" Type=\"bool\" Def=\"true\"> </Actif>  <!-- Pour pouvoir inhiber, au cas ou .... -->\n",
"    <GetCharOnPb Nb=\"?\" Type=\"bool\" Def=\"true\"> </GetCharOnPb>\n",
"</ShowPbLiaison>\n",
"\n",
"<PonderationPackMesure Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <!-- Le poids classique Pds = (1/EcartMesureIndiv)2 -->\n",
"    <EcartMesureIndiv  Nb=\"1\"  Type=\"double\"> </EcartMesureIndiv>\n",
"\n",
"    <!-- Si on veut evaluer les mesures sans qu'elles influent sur la compensation\n",
"      mettre a false -->\n",
"    <Add2Compens Nb=\"?\" Type=\"bool\" Def=\"true\"> </Add2Compens>\n",
"\n",
"    <ModePonderation Nb=\"?\" Type=\"eModePonderationRobuste\" Def=\"ePondL2\"> \n",
"    </ModePonderation>\n",
"\n",
"\n",
"    <!-- On rejette les mesures  > EcartMax -->\n",
"    <EcartMax  Nb=\"?\"  Type=\"double\" Def=\"1e20\"> </EcartMax>\n",
"    <ExposantLK  Nb=\"?\" Type=\"double\" Def=\"1.2\"> </ExposantLK>\n",
"    <!-- Pour le mode ePondGauss et ePondArcTgt  -->\n",
"     <SigmaPond Nb=\"?\" Type=\"double\" Def=\"1e20\"> </SigmaPond>\n",
"\n",
"<!-- Le poids de chaque el est NbMax/(Nb+NbMax), donc pour Nb<<NMax\n",
"     le poids est proche de 1, pour Nb >> NbMax, le poids total est proche\n",
"     de NbMax\n",
"-->\n",
"\n",
"    <NbMax Nb=\"?\" Type=\"double\" Def=\"1e20\"> </NbMax>\n",
"\n",
"    <Show Nb=\"?\" Type=\"eNiveauShowMessage\" Def=\"eNSM_None\"> </Show>\n",
"    <GetChar Nb=\"?\" Type=\"bool\" Def=\"false\"> </GetChar>\n",
"    <NbMinMultShowIndiv  Nb=\"?\" Type=\"int\" Def=\"2\"> </NbMinMultShowIndiv>\n",
"    <ShowPercentile Nb=\"?\" Type=\"std::vector<double>\"> </ShowPercentile>\n",
"\n",
"    <ExposantPoidsMult  Nb=\"?\" Type=\"double\" Def=\"1\"> </ExposantPoidsMult>\n",
"    <IdFilter3D  Nb=\"?\" Type=\"std::string\"> </IdFilter3D>\n",
"\n",
"</PonderationPackMesure>\n",
"\n",
"<ParamEstimPlan  Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"      <AttrSup Nb=\"?\" Type=\"std::string\"> </AttrSup>\n",
"      <KeyCalculMasq Nb=\"?\" Type=\"std::string\"> </KeyCalculMasq>\n",
"      <IdBdl Nb=\"1\"  Type=\"std::string\"> </IdBdl>\n",
"      <Pond Nb=\"1\" RefType=\"PonderationPackMesure\"> </Pond>\n",
"      <LimBSurH Nb=\"?\" Type=\"double\" Def=\"1e-2\"> </LimBSurH>\n",
"      <AcceptDefPlanIfNoPoint Nb=\"?\" Type=\"bool\" Def=\"false\"></AcceptDefPlanIfNoPoint>\n",
"</ParamEstimPlan>\n",
"\n",
"<RigidBlockWeighting Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <PondOnTr Nb=\"1\" Type=\"double\"> </PondOnTr>\n",
"    <PondOnRot Nb=\"1\" Type=\"double\"> </PondOnRot>\n",
"    <!-- Si donne, il y a une evolution selon une suite geometrique -->\n",
"    <PondOnTrFinal Nb=\"?\" Type=\"double\"> </PondOnTrFinal>\n",
"    <PondOnRotFinal Nb=\"?\" Type=\"double\"> </PondOnRotFinal>\n",
"</RigidBlockWeighting>\n",
"\n",
"\n",
"<GpsRelativeWeighting Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"<!--  le sigma0 sera egal a SigmaPerSec*Time + SigmaMin,\n",
"      le poids sera 1/ Sigma0 ^ 2\n",
"-->\n",
"    <SigmaPerSec  Nb=\"1\" Type=\"double\" >          </SigmaPerSec>\n",
"    <SigmaMin     Nb=\"1\" Type=\"double\" >          </SigmaMin>\n",
"    <MaxResidu Nb=\"?\" Type=\"double\">             </MaxResidu>\n",
"</GpsRelativeWeighting>\n",
"\n",
"\n",
"\n",
"<AperoPointeStereo Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"      <P1 Nb=\"1\" Type=\"Pt2dr\"> </P1>\n",
"      <Im1 Nb=\"1\" Type=\"std::string\"> </Im1>\n",
"      <P2 Nb=\"1\" Type=\"Pt2dr\"> </P2>\n",
"      <Im2 Nb=\"1\" Type=\"std::string\"> </Im2>\n",
"</AperoPointeStereo>\n",
"<AperoPointeMono Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"      <Pt Nb=\"1\" Type=\"Pt2dr\"> </Pt>\n",
"      <Im Nb=\"1\" Type=\"std::string\"> </Im>\n",
"</AperoPointeMono>\n",
"\n",
"<Apero2PointeFromFile Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <File Nb=\"1\" Type=\"std::string\"> </File>\n",
"     <NameP1 Nb=\"1\" Type=\"std::string\"> </NameP1>\n",
"     <NameP2 Nb=\"1\" Type=\"std::string\"> </NameP2>\n",
"</Apero2PointeFromFile>\n",
"\n",
"<ParamForceRappel Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <PatternNameApply Nb=\"1\" Type=\"cElRegex_Ptr\"> </PatternNameApply> \n",
"     <Incertitude Nb=\"+\" Type=\"double\" Container=\"std::vector\"> </Incertitude>\n",
"     <OnCur Nb=\"?\" Type=\"bool\"> </OnCur>  <!-- Sinon en val Init-->\n",
"</ParamForceRappel>\n",
"\n",
"<!-- Ces sections permettent de rajouter des comportemebt de type \"visco-elastique\"\n",
"     qui, au prix d'un eventuel ralentissement de la convergence, permettent\n",
"     de limiter les risques de divergence. Certaine options, devraient avoir\n",
"     un comportement tres proche du Levenberg Markard (orthographe tres approx )\n",
"-->\n",
"<SectionLevenbergMarkard   Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <RappelOnAngles Nb=\"*\">\n",
"          <ParamF Nb=\"1\" RefType=\"ParamForceRappel\" AccessorFils=\"false\"> </ParamF> \n",
"          <TetaApply Nb=\"+\" Type=\"int\" Container=\"std::vector\"> </TetaApply>\n",
"    </RappelOnAngles>\n",
"     <RappelOnCentres Nb=\"*\">\n",
"          <ParamF Nb=\"1\" RefType=\"ParamForceRappel\" AccessorFils=\"false\"> </ParamF> \n",
"          <!-- A priori idiot de mettre de la viscosite si deja force de rappel en GPS -->\n",
"          <OnlyWhenNoCentreInit Nb=\"?\" Type=\"bool\" Def=\"true\"> </OnlyWhenNoCentreInit>\n",
"    </RappelOnCentres>\n",
"    <RappelOnIntrinseque Nb=\"*\">\n",
"          <ParamF Nb=\"1\" RefType=\"ParamForceRappel\" AccessorFils=\"false\"> </ParamF> \n",
"    </RappelOnIntrinseque>\n",
"    <XmlSLM_RappelOnPt Nb=\"?\">\n",
"          <CondMax Nb=\"1\" Type=\"double\">  </CondMax> <!-- Si <=0 annule tout -->\n",
"    </XmlSLM_RappelOnPt>\n",
"</SectionLevenbergMarkard>\n",
"\n",
"<Xml_SigmaRot Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <Ang Nb=\"1\" Type=\"double\">     </Ang>\n",
"     <Center Nb=\"1\" Type=\"double\">  </Center>\n",
"</Xml_SigmaRot>\n",
"\n",
"<SetOrientationInterne Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <KeyFile Nb=\"1\" Type=\"std::string\"> </KeyFile>\n",
"    <PatternSel Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternSel>\n",
"    <Tag Nb=\"?\" Type=\"std::string\" Def=\"AffinitePlane\"> </Tag>\n",
"    <!-- Est ce que cette orientation s'ajoute a celle courante , ou est-ce qu'elle l'ecrase ? \n",
"        Attention si on enchaine plusieurs etape avec sauvegarde et AddToCur=true alors on va cumuler\n",
"        N fois la meme transfo, ce qui n'est sans doute pas ce que l'on veut -->\n",
"    <AddToCur Nb=\"1\" Type=\"bool\"> </AddToCur> \n",
"    <M2C  Nb=\"1\" Type=\"bool\"> </M2C>   <!-- Sens Monde vers Camera -->\n",
"</SetOrientationInterne>\n",
"\n",
"<ExportAsNewGrid Nb=\"1\"   Class=\"true\" ToReference=\"true\">\n",
"    <Step Nb=\"1\" Type=\"Pt2dr\"> </Step>\n",
"    <RayonInv Nb=\"?\" Type=\"double\" Def=\"-1\"> </RayonInv>\n",
"    <RayonInvRelFE Nb=\"?\" Type=\"double\" Def=\"-1\"> </RayonInvRelFE>\n",
"</ExportAsNewGrid>\n",
"\n",
"\n",
"<XmlPondRegDist Nb=\"1\"   Class=\"true\" ToReference=\"true\">\n",
"       <Pds0 Nb=\"1\" Type=\"double\">  </Pds0>  <!-- Valeur force a Id -->\n",
"       <Pds1 Nb=\"1\" Type=\"double\">  </Pds1>  <!-- Grad force a 1 -->\n",
"       <Pds2 Nb=\"1\" Type=\"double\">  </Pds2>  <!-- Derive seconde forcee a 0 -->\n",
"       <NbCase Nb=\"1\" Type=\"double\" >   </NbCase>\n",
"       <SeuilNbPtsByCase  Nb=\"1\" Type=\"double\"> </SeuilNbPtsByCase>\n",
"</XmlPondRegDist>\n",
"\n",
"<Xml_EstimateOrientationInitBlockCamera Nb=\"1\"   Class=\"true\" ToReference=\"true\">\n",
"     <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"     <Show Type=\"bool\" Nb=\"?\" Def=\"false\"> </Show>\n",
"</Xml_EstimateOrientationInitBlockCamera>\n",
"\n",
"   <ParamApero  Nb=\"1\" Class=\"true\">\n",
"\n",
"\n",
"        <DicoLoc  Nb=\"?\" RefType=\"ChantierDescripteur\"\n",
"                         RefFile=\"ParamChantierPhotogram.xml\"\n",
"	> \n",
"	</DicoLoc>\n",
"\n",
"\n",
"         <FileDebug Nb=\"?\" Type=\"std::string\"> </FileDebug>\n",
"\n",
"        <ShowSection  Nb=\"?\"> \n",
"            <ShowMes Nb=\"?\" Type=\"bool\" Def=\"true\"> </ShowMes>\n",
"            <LogFile  Nb=\"?\" Type=\"std::string\"> </LogFile>\n",
"         </ShowSection>\n",
"\n",
"        <!-- Ne jamais positionner a la main, utilise pour qu'Apero\n",
"             communique avec ses sous process an cas de map\n",
"        -->\n",
"        <CalledByItself Nb=\"?\" Type=\"bool\" Def=\"false\"> </CalledByItself>\n",
"        <!-- \n",
"              Genere un mode ou Apero map un ensemble en se rappelant lui meme\n",
"        -->\n",
"\n",
"        <SectionMapApero Nb=\"?\"\n",
"                    RefType=\"CmdMappeur\"\n",
"                    RefFile=\"ParamChantierPhotogram.xml\"\n",
"        >\n",
"        </SectionMapApero>\n",
"\n",
"\n",
"\n",
"        <!-- Cette section declare l'ensembles des observations qui seront utilisees\n",
"	au cours de la compensation . Les donnees vont etres chargees une fois pour toute\n",
"	-->\n",
"	<SectionBDD_Observation Nb=\"1\">\n",
"\n",
"            <BDD_PtsLiaisons Nb=\"*\">\n",
"	    <!--  Si non precise : true (compte tenu des nouveau pts multiple)\n",
"	    -->\n",
"\n",
"                  <TestForMatin Nb=\"?\" Type=\"int\"> </TestForMatin>\n",
"	          <UseAsPtMultiple Nb=\"?\" Type=\"bool\"> </UseAsPtMultiple> \n",
"	          <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"\n",
"                   <!-- Si donne on ne selectionne que les couples du meme groupe (par GroupeDePose) -->\n",
"                  <IdFilterSameGrp Nb=\"?\"  Type=\"std::string\"> </IdFilterSameGrp>\n",
"\n",
"                  <AutoSuprReflexif Nb=\"?\" Type=\"bool\" Def=\"true\"> </AutoSuprReflexif>\n",
"                  <KeySet  Nb=\"*\" Type=\"std::string\" Container=\"std::vector\">   </KeySet>\n",
"                  <KeyAssoc  Nb=\"*\" Type=\"std::string\" Container=\"std::vector\"> </KeyAssoc>\n",
"\n",
"                  <!-- To add tie points in xml format, not optimal at all for now -->\n",
"                  <XMLKeySetOrPat  Nb=\"*\" Type=\"std::string\">   </XMLKeySetOrPat>\n",
"\n",
"\n",
"                  <SzImForInvY Nb=\"?\"> \n",
"                      <SzIm1 Nb=\"1\" Type=\"Pt2dr\">  </SzIm1>\n",
"                      <SzIm2 Nb=\"1\" Type=\"Pt2dr\">  </SzIm2>\n",
"		  </SzImForInvY>\n",
"\n",
"                  <SplitLayer Nb=\"?\">\n",
"                      <IdLayer Nb=\"1\" Type=\"std::string\"> </IdLayer>\n",
"                      <KeyCalHomSplit Nb=\"1\" Type=\"std::string\"> </KeyCalHomSplit>\n",
"                  </SplitLayer>\n",
"            </BDD_PtsLiaisons>\n",
"\n",
"            <BDD_NewPtMul Nb=\"*\">\n",
"                  <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                  <SH Nb=\"1\" Type=\"std::string\"> </SH>\n",
"                  <BinaryMode Nb=\"1\" Type=\"bool\">    </BinaryMode>\n",
"                  <!-- Si SupressStdHom, des qu'il y a des points nouveau, les points anciens sont ignores -->\n",
"                  <SupressStdHom Nb=\"1\" Type=\"bool\">    </SupressStdHom>\n",
"            </BDD_NewPtMul>\n",
"\n",
"            <BDD_PtsAppuis Nb=\"*\">\n",
"	          <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"		  <KeySet Nb=\"1\" Type=\"std::string\"> </KeySet>\n",
"		  <!--  ASSOCIATION dans le sens Image vers Orientation  -->\n",
"		  <KeyAssoc    Nb=\"1\" Type=\"std::string\">  </KeyAssoc>\n",
"                  <SzImForInvY Nb=\"?\"  Type=\"Pt2dr\"> </SzImForInvY>\n",
"                  <InvXY Nb=\"?\" Type=\"bool\" Def=\"false\"> </InvXY>\n",
"\n",
"                  <ToSubstract Nb=\"?\"  Type=\"Pt3dr\"></ToSubstract>\n",
"                  <TagExtract Nb=\"?\" Type=\"std::string\" Def=\"ListeAppuis1Im\"> </TagExtract>\n",
"\n",
"                  <!-- Critere permettant de numeroter/fusionner les points si\n",
"                       pas deja fait -->\n",
"                  <BddApp_AutoNum Nb=\"?\">\n",
"                      <DistFusion    Nb=\"1\" Type=\"double\"> </DistFusion>\n",
"                      <DistAmbiguite Nb=\"1\" Type=\"double\"> </DistAmbiguite>\n",
"                  </BddApp_AutoNum>\n",
"            </BDD_PtsAppuis>\n",
"\n",
"\n",
"            <!--  Observations des appuis \"flottants\"\n",
"	    -->\n",
"            <BDD_ObsAppuisFlottant Nb=\"*\">\n",
"                  <!-- A rejouter au mesure images si par exemple saisi su Jpg de taille diff -->\n",
"                  <OffsetIm Nb=\"?\" Type=\"Pt2dr\" Def=\"Pt2dr(0,0)\"> </OffsetIm>\n",
"	          <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                  <!-- Ceci est pour les mesures de points -->\n",
"		  <KeySetOrPat Nb=\"?\" Type=\"std::string\"> </KeySetOrPat>\n",
"                  <NameAppuiSelector Nb=\"?\" Type=\"std::string\"> </NameAppuiSelector>\n",
"\n",
"                  <!-- If true : no error will appear when no ground data base exist;\n",
"                       OLD : default is false for full compatibility \n",
"                       NEW : default is true, do not see any draw back\n",
"                   -->\n",
"                  <AcceptNoGround Nb=\"?\" Type=\"bool\" Def=\"true\"> </AcceptNoGround>\n",
"		  <KeySetSegDroite Nb=\"?\" Type=\"std::string\"> </KeySetSegDroite>\n",
"            </BDD_ObsAppuisFlottant>\n",
"\n",
"            <!--  Observations des appuis \"flottants\"\n",
"	    -->\n",
"\n",
"\n",
"\n",
"             <BDD_Orient Nb=\"*\">\n",
"	          <Id Nb=\"1\" Type=\"std::string\" > </Id>\n",
"		  <KeySet Nb=\"1\" Type=\"std::string\"> </KeySet>\n",
"		  <KeyAssoc    Nb=\"1\" Type=\"std::string\">  </KeyAssoc>\n",
"                  <ConvOr Nb=\"?\"  Type=\"eConventionsOrientation\"> </ConvOr>\n",
"             </BDD_Orient>\n",
"\n",
"\n",
"             <BDD_Centre Nb=\"*\">\n",
"	          <Id Nb=\"1\" Type=\"std::string\" > </Id>\n",
"		  <KeySet Nb=\"1\" Type=\"std::string\"> </KeySet>\n",
"		  <KeyAssoc    Nb=\"1\" Type=\"std::string\">  </KeyAssoc>\n",
"                  <Tag Nb=\"?\" Type=\"std::string\" Def=\"Centre\"> </Tag>\n",
"                  <ByFileTrajecto  Nb=\"?\" Type=\"std::string\"> </ByFileTrajecto>\n",
"                  <PatternFileTrajecto Nb=\"?\" Type=\"std::string\"> </PatternFileTrajecto>\n",
"                  <PatternRefutFileTrajecto Nb=\"?\" Type=\"std::string\"> </PatternRefutFileTrajecto>\n",
"\n",
"                   <!-- L'offset est calcule  par aC0 - mObsCentre = Ofs -->\n",
"                   <CalcOffsetCentre  Nb=\"?\">\n",
"                         <IdBase Nb=\"1\" Type=\"std::string\"> </IdBase>\n",
"                         <KeyCalcBande Nb=\"1\" Type=\"std::string\"> </KeyCalcBande>\n",
"                         <OffsetUnknown Nb=\"?\" Type=\"bool\" Def=\"false\"> </OffsetUnknown>\n",
"                   </CalcOffsetCentre>\n",
"<!--\n",
"-->\n",
"                 \n",
"                  <!-- Necessaire de connaitre a l'avance les couples qui pourraient etre utilises\n",
"                       pour une compensation sur les differences relatives -->\n",
"<!--\n",
"                  <EcartMaxTimeUseRelatif Nb=\"?\" Type=\"double\">  </EcartMaxTimeUseRelatif>\n",
"-->\n",
"             </BDD_Centre>\n",
"\n",
"\n",
"<!--\n",
"       Permet de filtrer les points 3D sur le critere que leur projection appartiennent\n",
"   aux masques images.\n",
"-->\n",
"\n",
"              <FilterProj3D Nb=\"*\">\n",
"                   <Id  Nb=\"1\" Type=\"std::string\" > </Id>\n",
"                   <PatternSel Nb=\"1\" Type=\"std::string\" > </PatternSel>\n",
"                   <AttrSup Nb=\"1\" Type=\"std::string\"> </AttrSup>\n",
"                   <KeyCalculMasq Nb=\"1\" Type=\"std::string\"> </KeyCalculMasq>\n",
"              </FilterProj3D>\n",
"\n",
"\n",
"              <LayerImageToPose Nb=\"*\">\n",
"                   <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                   <!-- Nom de l'image si LayerTerrain -->\n",
"                   <KeyCalculImage Nb=\"1\" Type=\"std::string\"> </KeyCalculImage>\n",
"                   <FactRed Nb=\"1\" Type=\"int\"> </FactRed>\n",
"                   <KeyNameRed Nb=\"?\" Type=\"std::string\" Def=\"KeyStd-Assoc-AddPref@Layer-Reduc-\"> </KeyNameRed>\n",
"                   <!-- Si tout les points ne sont pas egaux a la valeur centrale, done etiq nulle, si\n",
"                        vaut -1 aucune gestion de priorit et  d'amniguite -->\n",
"                   <FactCoherence Nb=\"?\" Type=\"int\" Def=\"-1\"> </FactCoherence>\n",
"\n",
"                   <!-- Gere la priorite d'affectation des etiquettes pour les labels\n",
"                        la derniere valeur implicite est 255, valeur conventionnelle de non affectation \n",
"                           3 2 4 est equiv 3 2 4 255\n",
"                        attention :\n",
"                           3 255 4  2   est equiv a  3 255\n",
"\n",
"                        Pour chaque pixel, si son voisinage est homogene on le laisse t.q.\n",
"                        sinon on calcule le label de priorite minimal sans que cela puisse aller\n",
"                        au dela de la priorite de 255\n",
"                   -->\n",
"         \n",
"                   <EtiqPrio Nb=\"*\" Type=\"int\" Container=\"std::vector\"> </EtiqPrio>\n",
"\n",
"                   <!-- La couche image, peut etre (est souvent ?) exprimee en geometrie terrain,\n",
"                   rajoute a posteriori ... -->\n",
"                   <LayerTerrain Nb=\"?\">\n",
"                       <KeyAssocGeoref Nb=\"?\" Type=\"std::string\" Def=\"KeyStd-Assoc-ChangExt@xml\"> </KeyAssocGeoref>\n",
"                       <!-- +ou- redondant avec l'orientation des poses, mais charge tres en amont -->\n",
"                       <KeyAssocOrImage Nb=\"1\" Type=\"std::string\"> </KeyAssocOrImage>\n",
"                       <SysCoIm Nb=\"1\" Type=\"std::string\"> </SysCoIm>  <!-- Un nom de fichier -->\n",
"                       <TagOri Nb=\"?\" Type=\"std::string\" Def=\"OrientationConique\"> </TagOri>\n",
"                       <!-- Pour aller image->Terrain, si pas donne, pris dans Georef (s'il existe !!!) -->\n",
"                       <ZMoyen Nb=\"?\" Type=\"double\"> </ZMoyen>\n",
"                   </LayerTerrain>\n",
"              </LayerImageToPose>\n",
"\n",
"\n",
"              <LimInfBSurHPMoy Nb=\"?\" Def=\"1e-2\" Type=\"double\"> </LimInfBSurHPMoy>\n",
"              <LimSupBSurHPMoy Nb=\"?\" Def=\"2e-1\" Type=\"double\"> </LimSupBSurHPMoy>\n",
"\n",
"              <DeclareObsRelGPS  Nb=\"*\">\n",
"                  <PatternSel Nb=\"1\" Type=\"std::string\"> </PatternSel>\n",
"                  <Id  Nb=\"1\"  Type=\"std::string\"> </Id>\n",
"              </DeclareObsRelGPS>\n",
"\n",
"              <DeclareObsCalConseq  Nb=\"?\">\n",
"                  <PatternSel Nb=\"1\" Type=\"std::string\"> </PatternSel>\n",
"                  <!-- Meme structure que bloc, renvoit Time + Equiv -->\n",
"                  <Key Nb=\"1\" Type=\"std::string\"> </Key>\n",
"                  <!-- Key jump : les premieres images des couples ou la contrainte ne s'applique pas -->\n",
"                  <KeyJump Nb=\"?\" Type=\"std::string\"> </KeyJump>\n",
"                  <AddFreeRot Nb=\"1\" Type=\"bool\"> </AddFreeRot>\n",
"              </DeclareObsCalConseq>\n",
"\n",
"	</SectionBDD_Observation>\n",
"\n",
"<!--\n",
"     Cette section contient tout les \"objets\" qui generent des inconnues a\n",
"     determiner;\n",
"\n",
"     A priori ce peut etre :\n",
"\n",
"         - une orientation de camera (pose)\n",
"	 - une calibration interne\n",
"	 - un plan (utilise dans les eq homograhpique melangee avec des orientations)\n",
"	 - une homographie (eq homographiques seules)\n",
"-->\n",
"\n",
"       \n",
"\n",
"        <SectionInconnues Nb=\"1\">\n",
"\n",
"             <!-- Seuil, en equiv 35, de la focale ou on passe en autom au modele Fiseheye -->\n",
"             <!-- En fait, ce n'est pas en general une tres bonne idee, par exemple pb avec les 14mm sur meramptah , donc def=-1-->\n",
"             <SeuilAutomFE Nb=\"?\" Type=\"double\" Def=\"-1\"> </SeuilAutomFE>\n",
"\n",
"             <!-- A partir de l'image 3, et sauf en cas de zone plane, les bases ne \n",
"                sont plus arbitraires, et donc il faut plusieurs laisons pour initialiser,.\n",
"                  Si on ne le fait pas, on se fait (legitimement ?) insulter, sauf a\n",
"                mettre ce tag a true\n",
"             -->\n",
"                \n",
"             <AutoriseToujoursUneSeuleLiaison Nb=\"?\" Type=\"bool\" Def=\"false\"> </AutoriseToujoursUneSeuleLiaison>\n",
"\n",
"             <!--\n",
"                  Si un masque est passe il permet de filtrer les points\n",
"               pour le calcul du points moyen.\n",
"             -->\n",
"             <MapMaskHom Nb=\"?\" UnionType=\"true\"\n",
"                    RefType=\"MapName2Name\"\n",
"                    RefFile=\"SuperposImage.xml\"\n",
"              >\n",
"              </MapMaskHom>\n",
"              <SauvePMoyenOnlyWithMasq  Nb=\"?\" Type=\"bool\" Def=\"true\"> </SauvePMoyenOnlyWithMasq>\n",
"              \n",
"\n",
"\n",
"              <GpsOffset Nb=\"*\">\n",
"                  <ValInit Nb=\"1\" Type=\"Pt3dr\"> </ValInit>\n",
"                  <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                  <!-- Si pas d'incertitude, aucun rappel sur la valeur initiale -->\n",
"                  <Inc Nb=\"?\" Type=\"Pt3dr\"> </Inc>\n",
"              </GpsOffset>\n",
"\n",
"              <CalibrationCameraInc Nb=\"*\">\n",
"	           <Name Nb=\"1\" Type=\"std::string\"> </Name>\n",
"                   <ConvCal Nb=\"?\"  Type=\"eConventionsOrientation\" Def=\"eConvApero_DistM2C\" > </ConvCal>\n",
"                    \n",
"	           <Directory Nb=\"?\" Type=\"std::string\" Def=\"\">        </Directory>\n",
"                   <AddDirCur Nb=\"?\" Type=\"bool\" Def=\"true\">           </AddDirCur>\n",
"		   <CalValueInit Nb=\"1\">\n",
"			 <CalFromValues  Nb=\"?\"     \n",
"			     RefType=\"CalibrationInternConique\" \n",
"                         > \n",
"			 </CalFromValues>\n",
"		         <CalFromFileExtern  Nb=\"?\" RefType=\"SpecExtractFromFile\"> </CalFromFileExtern>\n",
"\n",
"                         <!-- Calib avec BD MicMac -->\n",
"                         <CalibFromMmBD Nb=\"?\" Type=\"bool\" Def=\"true\"> </CalibFromMmBD>\n",
"\n",
"                         <CalibAutomNoDist Nb=\"?\">\n",
"                              <TypeDist Nb=\"1\" Type=\"eTypeCalibAutom\"> </TypeDist>\n",
"                              <!-- Si on n'est pas en calib per pose, NameIm doit exister -->\n",
"                              <NameIm Nb=\"?\" Type=\"std::string\"> </NameIm>\n",
"                              <!-- Sauv le resultat, calcul a partir de Id -->\n",
"                              <KeyFileSauv Nb=\"?\" Type=\"std::string\"> </KeyFileSauv>\n",
"                              <PositionRelPP Nb=\"?\" Type=\"Pt2dr\" Def=\"Pt2dr(0.5,0.5)\"> </PositionRelPP>\n",
"                         </CalibAutomNoDist>\n",
"                   </CalValueInit>\n",
"\n",
"                   <!-- Si cette valeur est passee alors elle est ajoutee au modele de\n",
"		   distortion et c'est elle le modele inconu (en general init a Id)\n",
"		   -->\n",
"                   <DistortionAddInc Nb=\"?\" RefType=\"CalibDistortion\"> </DistortionAddInc>\n",
"                   <AddParamAFocal Nb=\"?\">\n",
"                        <Coeffs Nb=\"+\" Type=\"double\" Container=\"std::vector\"> </Coeffs> <!-- Doit etre en nombre de 2 -->\n",
"                   </AddParamAFocal>\n",
"                   <!-- Le mettre a une valeur > 1e20 si on veut laisser la valeur du fichier camera -->\n",
"                   <RayMaxUtile Nb=\"?\" Type=\"double\" Def=\"1e20\"> </RayMaxUtile>\n",
"                   <RayIsRelatifDiag  Nb=\"?\" Type=\"bool\" Def=\"false\"> </RayIsRelatifDiag>\n",
"                   <RayApplyOnlyFE  Nb=\"?\" Type=\"bool\" Def=\"false\"> </RayApplyOnlyFE>\n",
"                   <PropDiagUtile Nb=\"?\" Type=\"double\" Def=\"1.0\"> </PropDiagUtile>\n",
"\n",
"                    <!-- Cette option permet d'avoir une calibration par pose (ou\n",
"                         eventuellement groupe de pose) . Utile par exemple pour\n",
"                         rattraper un pb de mise au point  \n",
"                     -->\n",
"                     <CalibPerPose Nb=\"?\">\n",
"                           <!-- Peut eventuellement etre reversible -->\n",
"                           <KeyPose2Cal Nb=\"1\" Type=\"std::string\"> </KeyPose2Cal>\n",
"                           <!-- Si elle est donnee le CalFromFileExtern va etre cherche dans le fichier \n",
"                                calcule a partir de KeyInitFromPose -->\n",
"                           <KeyInitFromPose Nb=\"?\" Type=\"std::string\"> </KeyInitFromPose>\n",
"                     </CalibPerPose>\n",
"                     \n",
"\n",
"              </CalibrationCameraInc>\n",
"\n",
"              <SeuilL1EstimMatrEss Nb=\"?\" Type=\"int\" Def=\"150\"> </SeuilL1EstimMatrEss>\n",
"\n",
"              <BlockCamera Nb=\"*\">\n",
"                    <NameFile Nb=\"1\" Type=\"std::string\"> </NameFile>\n",
"                    <Id   Nb=\"?\" Type=\"std::string\"> </Id>\n",
"                    <UseForBundle Nb=\"?\">\n",
"                        <!-- Translation rotation -->\n",
"                        <BlockGlobalBundle Nb=\"?\" >\n",
"                              <!-- exclusif : si V0Stricte true, alors SigmaV0, SigmaSimDist  Undef -->\n",
"                             <SigmaV0       Nb=\"?\" RefType=\"Xml_SigmaRot\"> </SigmaV0> \n",
"                             <V0Stricte Nb=\"?\" Type=\"bool\"> </V0Stricte>\n",
"                                 <!-- Sigma sur la similitude distance -->\n",
"                             <SigmaSimDist       Nb=\"?\" Type=\"double\"> </SigmaSimDist> \n",
"                        </BlockGlobalBundle>\n",
"\n",
"                        <RelTimeBundle Nb=\"1\" Type=\"bool\">     </RelTimeBundle>\n",
"                        \n",
"                        <!-- distance seulement -->\n",
"                        <RelDistTimeBundle Nb=\"?\" Type=\"bool\" Def=\"false\">     </RelDistTimeBundle>\n",
"                        <GlobDistTimeBundle Nb=\"?\" Type=\"bool\" Def=\"false\">    </GlobDistTimeBundle>\n",
"                    </UseForBundle>\n",
"              </BlockCamera>\n",
"\n",
"\n",
"               <!-- A priori obsolete, remplacee par valeur dans calib -->\n",
"              <GlobOrInterne Nb=\"?\" RefType=\"SetOrientationInterne\"></GlobOrInterne>\n",
"\n",
"              <!-- Nouvelles cameras inconnues, generique, pour representer satellite -->\n",
"              <CamGenInc  Nb=\"*\">\n",
"                    <PatterName Nb=\"1\" Type=\"cElRegex_Ptr\">  </PatterName>\n",
"                    <Orient Nb=\"1\" Type=\"std::string\">      </Orient>\n",
"                    <ErrorWhenEmpytPat Nb=\"?\" Type=\"bool\" Def=\"true\"> </ErrorWhenEmpytPat>\n",
"                    <ErrorWhenNoFileOrient Nb=\"?\" Type=\"bool\" Def=\"true\"> </ErrorWhenNoFileOrient>\n",
"              </CamGenInc>\n",
"\n",
"              <PoseCameraInc Nb=\"*\"  ToReference=\"true\">\n",
"                   \n",
"\n",
"                    <!--  Orienation interne : ATTENTION GERE COMME UN CORRECTIF AU MESURES PAS BIEN INTEGRE \n",
"                    A LA COMPENSATION, DOIVENT ETRE RELUE A CHAQUE FOIS .... -->\n",
"\n",
"                    <!-- A priori obsolete, remplacee par marques fiduciaires -->\n",
"                    <OrInterne Nb=\"?\" RefType=\"SetOrientationInterne\"></OrInterne>\n",
"\n",
"                    <!-- S'il existe une base de donnees de centre de rattachement, typiquement\n",
"                         du GPS embarque -->\n",
"                   <IdBDCentre Nb=\"?\" Type=\"std::string\"> </IdBDCentre>\n",
"                   <IdOffsetGPS  Nb=\"?\" Type=\"std::string\"> </IdOffsetGPS>\n",
"\n",
"                   <!-- Si on veut avoir une initialisation progressive, mettre a false -->\n",
"                   <InitNow Nb=\"?\" Type=\"bool\" Def=\"true\"> </InitNow>\n",
"		   <!-- Ecrase ProfSceneChantier -->\n",
"	           <ProfSceneImage Nb=\"?\" Type=\"double\">        </ProfSceneImage>\n",
"	           <Directory Nb=\"?\" Type=\"std::string\" Def=\"\">        </Directory>\n",
"	           <PatternName  Nb=\"+\" Type=\"std::string\">     </PatternName>\n",
"\n",
"                    <AutomGetImC Nb=\"?\" Type=\"std::string\"> </AutomGetImC>\n",
"\n",
"                    <TestFewerTiePoints Nb=\"?\" Type=\"std::string\"> </TestFewerTiePoints>\n",
"\n",
"                    <Filter Nb=\"?\" \n",
"                                RefType=\"NameFilter\"\n",
"                                RefFile=\"ParamChantierPhotogram.xml\"\n",
"                   >\n",
"                   </Filter>\n",
"\n",
"                   <PatternRefuteur Nb=\"?\" Type=\"cElRegex_Ptr\"> </PatternRefuteur>\n",
"                   <!-- + Ergonomique que PatternRefuteur, mais defaut false pour compatibilite stricte -->\n",
"                   <AutoRefutDupl Nb=\"?\" Type=\"bool\" Def=\"true\"> </AutoRefutDupl>\n",
"\n",
"                    <!-- Si donne, on ne retient que les noms pour lequel le fichier donne par la cle d'association existe \n",
"                    SUPPRIME : remplace par Filter : + standard et + puissant\n",
"                    <KeyFilterByExistingFile Nb=\"?\" Type=\"std::string\"> </KeyFilterByExistingFile>\n",
"-->\n",
"\n",
"\n",
"                    <!-- Si la cle transcrit les noms, permet de dupliquer les poses (utiliser sur eau) -->\n",
"                    <KeyTranscriptionName Nb=\"?\" Type=\"std::string\"> </KeyTranscriptionName>\n",
"\n",
"                    <!-- Si ce tag est vrai, il faut rajouter non pas les nom de Pattername\n",
"                    mais ceux qui y sont \"connecte\" par un fichier homologue de la BDD\n",
"                    specifiee -->\n",
"                    <AddAllNameConnectedBy Nb=\"?\" Type=\"std::string\"> </AddAllNameConnectedBy>\n",
"\n",
"                    <FilterConnecBy Nb=\"?\" Type=\"std::string\"> </FilterConnecBy>\n",
"                    \n",
"                    <MEP_SPEC_MST Nb=\"?\"> \n",
"		         <MSTBlockRigid Nb=\"?\" Type=\"std::string\" > </MSTBlockRigid> <!-- Name file bloc --> \n",
"                         <Show Nb=\"?\" Type=\"bool\" Def=\"false\"> </Show> \n",
"\n",
"                    <!-- On privilegie systematiquement les poses pour lesquelles on trouve un\n",
"                        nombre de points multiples superieur a cette \n",
"                        valeur,\n",
"                    -->\n",
"                         <MinNbPtsInit Nb=\"?\" Type=\"int\" Def=\"8\"> </MinNbPtsInit>\n",
"\n",
"\n",
"\n",
"                         <ExpDist Nb=\"?\" Type=\"double\" Def=\"2.0\"> </ExpDist>\n",
"                         <ExpNb Nb=\"?\" Type=\"double\" Def=\"1.0\"> </ExpNb>\n",
"\n",
"                         <!-- Si true, on ne peutr construire que sur les vues intiales,\n",
"                              lorsque l'on rajoute des vues instables tout a la fin\n",
"                              sur des images deja orientees\n",
"                         -->\n",
"                         <MontageOnInit Nb=\"?\" Type=\"bool\" Def=\"false\"></MontageOnInit>\n",
"                         \n",
"\n",
"                     <!--  Option \"dangereuse\" a priori. Si donne, ne genere pas d'erreur, juste un\n",
"                          warning, si des images restent non connectables arrive apres le rang\n",
"                          donne (par ex 3 si on veut juste le min pour basculer) . Dans le cadre\n",
"                          de mise en place locale sur des voisinage reduit (type Delaunay)\n",
"                          et avec des relation redondante, permet d'eviter un blocage\n",
"                     -->\n",
"                         <NbInitMinBeforeUnconnect  Nb=\"?\" Type=\"int\" Def=\"10000000\"></NbInitMinBeforeUnconnect>\n",
"                    </MEP_SPEC_MST>\n",
"                   \n",
"\n",
"                     <!-- Permet une optimization par descente \"empirique\" sur un critere L1 \n",
"                          apres l'initialisation -->\n",
"                     <OptimizeAfterInit Nb=\"?\">\n",
"                           <ParamOptim Nb=\"1\" RefType=\"OptimizationPowel\"> </ParamOptim>\n",
"                           <ApplyOAI Nb=\"*\" Type=\"\">\n",
"                                <Cstr Nb=\"1\" Type=\"eTypeContraintePoseCamera\"> </Cstr>\n",
"                                <PatternApply Nb=\"1\" Type=\"std::string\"> </PatternApply>\n",
"                           </ApplyOAI>\n",
"                     </OptimizeAfterInit>\n",
"\n",
"<!--\n",
"    A priori ca sert a rien ??\n",
"                  <ModifGeom Nb=\"?\"> \n",
"                      <Cste Nb=\"1\" Type=\"Pt2dr\">  </Cste>\n",
"                      <Mul Nb=\"1\" Type=\"Pt2dr\">  </Mul>\n",
"		  </ModifGeom>\n",
"-->\n",
"\n",
"\n",
"		   <!-- Il peut etre necessaire de parser les nom en ordre inverse\n",
"		   pour \"monter\" les aeros\n",
"		   -->\n",
"		   <ReverseOrderName Nb=\"?\" Type=\"bool\" Def=\"false\"> </ReverseOrderName>\n",
"                   <!-- Si on utilise CalcNameCalib , ne pas utiliser CalcNameCalibAux -->\n",
"	           <CalcNameCalib  Nb=\"?\" Type=\"std::string\">   </CalcNameCalib>\n",
"                   <!-- Pour s'adapter dynamiquement a , par exemple, le cas avec et sans CalPerIm, il faut\n",
"                        pouvoir calculer la cle de calibration avec des critere complexe   -->\n",
"                   <CalcNameCalibAux Nb=\"*\"  UnionType=\"true\">\n",
"                        <CalcNameOnExistingTag Nb=\"?\">\n",
"                               <KeyCalcFileOriExt Nb=\"1\" Type=\"std::string\"> </KeyCalcFileOriExt>\n",
"                               <KeyCalcName Nb=\"1\" Type=\"std::string\">       </KeyCalcName>\n",
"                               <TagExist Nb=\"1\" Type=\"std::string\">          </TagExist>\n",
"                               <TagNotExist Nb=\"1\" Type=\"std::string\">       </TagNotExist>\n",
"                               <ExigCohTags Nb=\"?\" Type=\"bool\" Def=\"true\">   </ExigCohTags>\n",
"                        </CalcNameOnExistingTag>\n",
"                        <KeyCalcNameDef Nb=\"?\" Type=\"std::string\">       </KeyCalcNameDef>\n",
"                   </CalcNameCalibAux>\n",
"\n",
"\n",
"\n",
"		   <!-- A cause d'un \"erreur historique\" dans la lib elise, l'eventuelle rotation\n",
"		   de rattachement doit etre connue a l'avance.\n",
"		        Si necessaire, on doit pouvoir facilement donner une liste de rattachements\n",
"		     potentiels.\n",
"		   -->\n",
"		   <PosesDeRattachement Nb=\"?\" Type=\"std::string\"> </PosesDeRattachement>\n",
"                   <!-- Si true ne genere pas d'erreur lorque l'on demande le rattachement a des vue\n",
"                        inexistante -->\n",
"                   <NoErroOnRat Nb=\"?\" Type=\"bool\" Def=\"true\"> </NoErroOnRat>\n",
"		   <!--  S'il n'y a pas de fichier associe a PatternName , mettre ByPattern a false\n",
"		   -->\n",
"		   <ByPattern Nb=\"?\" Type=\"bool\" Def=\"true\">     </ByPattern>\n",
"                   <KeyFilterExistingFile Nb=\"?\" Type=\"std::string\"> </KeyFilterExistingFile>\n",
"                   <!-- Si ByKey ==true, le  PatternName est une cle d'ensemble -->\n",
"		   <ByKey Nb=\"?\" Type=\"bool\" Def=\"false\">     </ByKey>\n",
"                   <!-- Si ByFile ==true, le  PatternName est fichier contenat un SauvegardeSetString, \n",
"                        redondant avec ByKey mais pb avec EtalonnagePolyg qui n'utilise pas les\n",
"                         MicMacLocalChantierDescripteur-->\n",
"		   <ByFile Nb=\"?\" Type=\"bool\" Def=\"false\">     </ByFile>\n",
"                   \n",
"		   <PosValueInit Nb=\"1\"  UnionType=\"true\">\n",
"\n",
"		        <PosId Nb=\"?\" Type=\"std::string\"> </PosId> <!-- Le string est ignore --> \n",
"		        <PosFromBDOrient Nb=\"?\" Type=\"std::string\"> </PosFromBDOrient>\n",
"		        <PosFromBlockRigid Nb=\"?\" Type=\"std::string\"> </PosFromBlockRigid> <!-- Name file bloc --> \n",
"		        <PosFromBDAppuis Nb=\"?\"> \n",
"			      <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"			      <NbTestRansac Nb=\"1\" Type=\"int\"> </NbTestRansac>\n",
"     <!-- Si on la connait, cette direction approximative de l'axe de visee permet d'eviter\n",
"          les retournement qui arrive parfois (avec les longues focales) -->\n",
"                              <DirApprox Type=\"Pt3dr\" Nb=\"?\"> </DirApprox>\n",
"			</PosFromBDAppuis>\n",
"\n",
"			<PoseFromLiaisons Nb=\"?\">\n",
"			      <LiaisonsInit Nb=\"+\" Container=\"std::vector\">\n",
"				   <!-- OnZonePlane : seulement la premiere -->\n",
"			           <OnZonePlane Nb=\"?\"  Type=\"std::string\"> </OnZonePlane>\n",
"<!-- OnZonePlane etait fait pour partager le plan, en fait peu utile. TestSolPlane\n",
"se limite a tester les 2 algo et a selectionner le meilleur. A priori peut pas faire de mal\n",
"-->\n",
"                                   <TestSolPlane Nb=\"?\" Type=\"bool\" Def=\"true\"></TestSolPlane>\n",
"<!-- Si >0  on tente d'ameliorer la solution par Mat ess ou mise en place coplanaire, i\n",
"     par un solution de relevement dans l'espace sur points multiples\n",
"--> \n",
"\n",
"                                   <NbRansacSolAppui  Nb=\"?\" Type=\"int\" Def=\"200\"> </NbRansacSolAppui>\n",
"                                    \n",
"<!--   -->\n",
"                                   <InitOrientPure  Nb=\"?\" Type=\"bool\" Def=\"false\"> </InitOrientPure>\n",
"                                   <NbPtsRansacOrPure  Nb=\"?\" Type=\"int\" Def=\"200\"> </NbPtsRansacOrPure>\n",
"                                   <NbTestRansacOrPure  Nb=\"?\" Type=\"int\" Def=\"500\"> </NbTestRansacOrPure>\n",
"\n",
"\n",
"\n",
"                                   <NbMinPtsRanAp  Nb=\"?\" Type=\"int\" Def=\"0\"> </NbMinPtsRanAp>\n",
"                                   <NbMaxPtsRanAp  Nb=\"?\" Type=\"int\" Def=\"500\"> </NbMaxPtsRanAp>\n",
"                                   <PropMinPtsMult Nb=\"?\"  Type=\"double\" Def=\"0.5\"> </PropMinPtsMult>\n",
"\n",
"			           <NameCam Nb=\"1\" Type=\"std::string\"> </NameCam>\n",
"				   <NameCamIsKeyCalc Nb=\"?\" Type=\"bool\" Def=\"false\"> </NameCamIsKeyCalc>\n",
"				   <KeyCalcIsIDir Nb=\"?\" Type=\"bool\" Def=\"true\"> </KeyCalcIsIDir>\n",
"				   <IdBD Nb=\"1\"  Type=\"std::string\"> </IdBD>\n",
"	                           <ProfSceneCouple Nb=\"?\" Type=\"double\"> </ProfSceneCouple>\n",
"				   <L2EstimPlan Nb=\"?\" Type=\"bool\" Def=\"true\"> </L2EstimPlan>\n",
"				   <!-- Si valeur, remplace la pronfondeur -->\n",
"				   <LongueurBase Nb=\"?\" Type=\"double\"> </LongueurBase>\n",
"			      </LiaisonsInit>\n",
"			</PoseFromLiaisons>\n",
"\n",
"			<PoseInitFromReperePlan Nb=\"?\">   <!--  Voir [PIFRP]-->\n",
"			      <OnZonePlane Nb=\"1\" Type=\"std::string\">   </OnZonePlane>\n",
"                              <L2EstimPlan Nb=\"?\" Type=\"bool\" Def=\"true\"> </L2EstimPlan>\n",
"                              <!-- Si le fichier existe est interprete comme un nom de fichier,\n",
"                                   sinon comme un identifiant de base -->\n",
"                              <IdBD Nb=\"1\"  Type=\"std::string\"> </IdBD>\n",
"			      <NameCam Nb=\"1\" Type=\"std::string\">       </NameCam>\n",
"			      <!-- Inutile car normalement peut etre calcule par les points,\n",
"			      mais peut etre plus naturel a fixer que le facteur d'echelle dans le plan\n",
"			      -->\n",
"			      <DEuclidPlan  Nb=\"?\"  Type=\"double\">      </DEuclidPlan>\n",
"                              <InitPIFRP Nb=\"1\"  UnionType=\"true\">\n",
"                                  <MesurePIFRP Nb=\"?\">\n",
"                                      <Ap1  Nb=\"1\" RefType=\"MesureAppuis\">         </Ap1>\n",
"                                      <Ap2  Nb=\"1\" RefType=\"MesureAppuis\">         </Ap2>\n",
"                                      <Ap3  Nb=\"1\" RefType=\"MesureAppuis\">         </Ap3>\n",
"                                  </MesurePIFRP>\n",
"                                  <DirPlan Nb=\"?\" Type=\"Pt3dr\"> </DirPlan>\n",
"                              </InitPIFRP>\n",
"			</PoseInitFromReperePlan>\n",
"\n",
"		   </PosValueInit>\n",
"              </PoseCameraInc>\n",
"\n",
"             <GroupeDePose Nb=\"*\">\n",
"                 <KeyPose2Grp Nb=\"1\" Type=\"std::string\"> </KeyPose2Grp>\n",
"                 <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                 <ShowCreate Nb=\"?\" Type=\"bool\" Def=\"false\"> </ShowCreate>\n",
"             </GroupeDePose>\n",
"\n",
"\n",
"	      <SurfParamInc Nb=\"*\">\n",
"                  <!-- (cas le + courant) Si le nom correspond a une zone plane, \n",
"		  utilisee lors de l'initialisation, il n'est pas utile de  \n",
"		  preciser les point de liaison \n",
"		  -->\n",
"                  \n",
"		  <!-- La liste des liaisons auxquelles s'appliquent le contrainte -->\n",
"\n",
"		  <LiaisonsApplyContrainte Nb=\"+\">\n",
"		       <NameRef Nb=\"1\" Type=\"std::string\">  </NameRef> \n",
"		       <PatternI1 Nb=\"1\" Type=\"std::string\"> </PatternI1>\n",
"		       <PatternI2 Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternI2>\n",
"		  </LiaisonsApplyContrainte>\n",
"                  \n",
"		  <InitSurf Nb=\"1\"  UnionType=\"true\">\n",
"	               <ZonePlane Nb=\"?\" Type=\"std::string\"> </ZonePlane>\n",
"		  </InitSurf>\n",
"	      </SurfParamInc>\n",
"\n",
"	      <PointFlottantInc Nb=\"*\">\n",
"		    <!-- Il faut connaitre a l'avance les images dans lesquelles le points sera\n",
"		    projete pour creer les equations -->\n",
"	            <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"		    <KeySetOrPat Nb=\"1\" Type=\"std::string\"> </KeySetOrPat>\n",
"                    <ModifInc Nb=\"?\" \n",
"                              RefType=\"ModifIncPtsFlottant\"   \n",
"                              RefFile=\"ParamChantierPhotogram.xml\"\n",
"                    > \n",
"                    </ModifInc>\n",
"	      </PointFlottantInc>\n",
"\n",
"        </SectionInconnues>\n",
"\n",
"\n",
"        <SectionChantier Nb=\"1\">\n",
"\n",
"              <RatioMaxDistCS  Type=\"double\" Nb=\"?\" Def=\"30.0\" > </RatioMaxDistCS>\n",
"              <!-- Permet d'eliminer les tie points de maniere reproductible\n",
"                   [7,1,13,4]  => elimine ceux dont le numero est egal a 1%7 et a 4 % 13\n",
"              -->\n",
"              <DebugVecElimTieP  Type=\"std::string\" Nb=\"?\" > </DebugVecElimTieP>\n",
"\n",
"              <DoStatElimBundle Nb=\"?\" Type=\"int\"> </DoStatElimBundle>\n",
"              <UseExportImageResidu  Nb=\"?\"> \n",
"                   <SzByPair Nb=\"?\" Type=\"double\" Def=\"30\"> </SzByPair> \n",
"                   <SzByPose Nb=\"?\" Type=\"double\" Def=\"50\"> </SzByPose> \n",
"                   <SzByCam  Nb=\"?\" Type=\"double\" Def=\"100\"> </SzByCam> \n",
"                   <!-- Utilise pour le filtrag gaussien -->\n",
"                   <NbMesByCase  Nb=\"?\" Type=\"double\" Def=\"10\"> </NbMesByCase> \n",
"                   <AeroExport Nb=\"1\" Type=\"std::string\">    </AeroExport>\n",
"\n",
"                   <GeneratePly Nb=\"?\" Type=\"bool\" Def=\"true\">   </GeneratePly>\n",
"                   <SzOrtho Nb=\"?\" Type=\"int\" Def=\"-1\"> </SzOrtho>\n",
"              </UseExportImageResidu>\n",
"\n",
"              <UseRegulDist  Type=\"bool\" Nb=\"?\" Def=\"false\"> </UseRegulDist>\n",
"              <GBCamSupresStenCam  Type=\"bool\" Nb=\"?\" Def=\"true\"> </GBCamSupresStenCam>\n",
"              <StenCamSupresGBCam  Type=\"bool\" Nb=\"?\" Def=\"false\"> </StenCamSupresGBCam>\n",
"\n",
"\n",
"              <IsAperiCloud Type=\"bool\" Nb=\"?\" Def=\"false\"> </IsAperiCloud>  <!-- Dans ce cas, court-circuite +sieur meca -->\n",
"              <IsChoixImSec Type=\"bool\" Nb=\"?\" Def=\"false\"> </IsChoixImSec>  <!-- Dans ce cas, court-circuite +sieur meca -->\n",
"              <FileSauvParam Nb=\"?\" Type=\"std::string\"> </FileSauvParam>\n",
"              <GenereErreurOnContraineCam Nb=\"?\" Type=\"bool\" Def=\"true\"> </GenereErreurOnContraineCam>\n",
"	      <!--  Juste pour fixer les ordres de grandeur dans le cas d'une aero \n",
"	            \"toute en l'air\"\n",
"	      -->\n",
"	      <ProfSceneChantier Nb=\"?\" Type=\"double\" Def=\"10.0\"> </ProfSceneChantier>\n",
"	      <DirectoryChantier Nb=\"?\"  Type=\"std::string\" Def=\"\">  </DirectoryChantier>\n",
"\n",
"	      <FileChantierNameDescripteur Nb=\"?\" Type=\"string\"> </FileChantierNameDescripteur>\n",
"             <!-- Si aero lie a etal-polyg, donne nom du parametre --> \n",
"             <NameParamEtal Nb=\"?\" Type=\"std::string\"> </NameParamEtal>\n",
"\n",
"             <PatternTracePose Nb=\"?\" Type=\"std::string\"> </PatternTracePose>\n",
"             <TraceGimbalLock Nb=\"?\" Type=\"bool\" Def=\"true\"> </TraceGimbalLock>\n",
"             <MaxDistErrorPtsTerr Nb=\"?\"  Type=\"double\" Def=\"1e50\"> </MaxDistErrorPtsTerr>\n",
"             <MaxDistWarnPtsTerr Nb=\"?\"  Type=\"double\" Def=\"1e30\"> </MaxDistWarnPtsTerr>\n",
"\n",
"             <DefPbLiaison Nb=\"?\" RefType=\"ShowPbLiaison\"> </DefPbLiaison>\n",
"\n",
"             <DoCompensation Nb=\"?\" Type=\"bool\" Def=\"true\"> </DoCompensation>\n",
"\n",
"             <TimeLinkage Nb=\"?\">\n",
"                   <DeltaMax Nb=\"1\" Type=\"double\"> </DeltaMax>\n",
"             </TimeLinkage>\n",
"\n",
"             <DebugPbCondFaisceau Nb=\"?\" Type=\"bool\" Def=\"false\"> </DebugPbCondFaisceau>\n",
"\n",
"             <SauvAutom Nb=\"?\" Type=\"std::string\"> </SauvAutom>\n",
"             <!-- Rajouter une sauvegarde sous Tmp-MM-Dir/ : def = false, pb avec calib per pose  -->\n",
"             <SauvAutomBasic Nb=\"?\" Type=\"bool\" Def=\"false\"> </SauvAutomBasic>\n",
"\n",
"              <!-- Physicially there should not exist points behind camera, but there can be some :\n",
"                   for outliers, or for point at infinity\n",
"              -->\n",
"             <ThresholdWarnPointsBehind Nb=\"?\" Type=\"double\" Def=\"0.01\"></ThresholdWarnPointsBehind>\n",
"\n",
"        </SectionChantier>\n",
"\n",
"\n",
"        <SectionSolveur Nb=\"1\">\n",
"            <AllMatSym Nb=\"?\" Type=\"bool\" Def=\"true\"> </AllMatSym>\n",
"	    <ModeResolution Nb=\"1\" Type=\"eModeSolveurEq\"> </ModeResolution> \n",
"\n",
"	    <ModeControleDescDic Nb=\"?\" Type=\"eControleDescDic\" Def=\"eCDD_Jamais\"> </ModeControleDescDic> \n",
"            <SeuilBas_CDD  Nb=\"?\" Type=\"int\" Def=\"4\"> </SeuilBas_CDD>\n",
"            <SeuilHaut_CDD  Nb=\"?\" Type=\"int\" Def=\"10\"> </SeuilHaut_CDD>\n",
"\n",
"            <!-- Mise au point de l'ordre AMD, sur pb images piazzabra -->\n",
"            <InhibeAMD Nb=\"?\" Type=\"bool\" Def=\"false\"> </InhibeAMD>\n",
"            <AMDSpecInterne Nb=\"?\" Type=\"bool\" Def=\"false\"> </AMDSpecInterne>\n",
" \n",
"\n",
"            <ShowCholesky Nb=\"?\" Def=\"false\" Type=\"bool\"> </ShowCholesky>\n",
"            <!-- Dans debugage de la permutation des block de variables (en vue Cholesky) -->\n",
"            <TestPermutVar Nb=\"?\" Def=\"false\" Type=\"bool\"> </TestPermutVar>\n",
"            <ShowPermutVar Nb=\"?\" Def=\"false\" Type=\"bool\"> </ShowPermutVar>\n",
"            <PermutIndex Nb=\"?\" Def=\"true\" Type=\"bool\"> </PermutIndex>\n",
"<!-- Si true, on ajoute une orientation interne qui a pour effet d'avoir des points\n",
"normalises en echelle et/ou en translation -->\n",
"            <NormaliseEqSc  Nb=\"?\" Type=\"bool\" Def=\"true\"> </NormaliseEqSc>\n",
"            <NormaliseEqTr  Nb=\"?\" Type=\"bool\" Def=\"true\"> </NormaliseEqTr>\n",
"<!-- A partir de ce B/H l'equation d'ajustement de faisceau est ecrite avec un point a l'infini -->\n",
"            <LimBsHProj Nb=\"?\" Type=\"double\" Def=\"0.1\">   </LimBsHProj>\n",
"            <LimBsHRefut Nb=\"?\" Type=\"double\" Def=\"1e-6\">   </LimBsHRefut>\n",
"            <LimModeGL Nb=\"?\" Type=\"double\" Def=\"0.3\">   </LimModeGL>\n",
"\n",
"<!-- Si on ne veut pas utiliser, mettre valeur <= 0 -->\n",
"            <GridOptimKnownDist Nb=\"?\" Type=\"bool\" Def=\"false\"> </GridOptimKnownDist>\n",
"            <SLMGlob   Nb=\"?\" RefType=\"SectionLevenbergMarkard\"> </SLMGlob>\n",
"            <!-- Divise les incertitudes, donc >1  Augmente l'effet , 0 est valide (verife dans Apero) !!!!     -->\n",
"            <MultSLMGlob   Nb=\"?\" Type=\"double\"> </MultSLMGlob>\n",
"\n",
"            <Im2Aff Nb=\"?\" Type=\"cElRegex_Ptr\"> </Im2Aff>\n",
"\n",
"\n",
"            <RegDistGlob Nb=\"?\" RefType=\"XmlPondRegDist\"> </RegDistGlob>\n",
"\n",
"        </SectionSolveur>\n",
"\n",
"\n",
"\n",
"	<SectionCompensation Nb=\"1\">\n",
"	    <EtapeCompensation Nb=\"+\">\n",
"	         <!-- <NbIteration Nb=\"?\" Type=\"int\" Def=\"1\"> </NbIteration> -->\n",
"<!--  Par defaut les inconnues ont les memes contraintes a chaque etape, la section ne concerne\n",
"      donc que les objets modifies\n",
"-->\n",
"		 <IterationsCompensation Nb=\"*\" Container=\"std::vector\">\n",
"\n",
"                     <CtrlTimeCompens Nb=\"?\">\n",
"                           <NbMin Nb=\"?\" Type=\"int\" Def=\"0\"> </NbMin>\n",
"                           <NbMax Nb=\"1\" Type=\"int\">         </NbMax>\n",
"                           <SeuilEvolMoy Nb=\"1\" Type=\"double\">  </SeuilEvolMoy>\n",
"                           <SeuilEvolMax Nb=\"?\" Type=\"double\">  </SeuilEvolMax>  <!-- Default 2*SeuilEvolMoy -->\n",
"                           <AutoAdaptLVM Nb=\"?\">\n",
"                                <Mult Nb=\"1\" Type=\"double\">  </Mult>  <!-- MultSLMEtape sera egal a Mult * EvolMoy -->\n",
"                                <ModeMin Nb=\"?\" Type=\"bool\" Def=\"true\"> </ModeMin>\n",
"                           </AutoAdaptLVM>\n",
"                     </CtrlTimeCompens>\n",
"                     <DoIt Nb=\"?\" Type=\"bool\" Def=\"true\"> </DoIt> <!-- Add to make easier the control with symbol -->\n",
"		     <SLMIter  Nb=\"?\" RefType=\"SectionLevenbergMarkard\"> </SLMIter>\n",
"		     <SLMEtape  Nb=\"?\" RefType=\"SectionLevenbergMarkard\"> </SLMEtape>\n",
"		     <SLMGlob   Nb=\"?\" RefType=\"SectionLevenbergMarkard\"> </SLMGlob>\n",
"                     <MultSLMIter   Nb=\"?\" Type=\"double\"> </MultSLMIter>\n",
"                     <MultSLMEtape   Nb=\"?\" Type=\"double\"> </MultSLMEtape>\n",
"                     <MultSLMGlob   Nb=\"?\" Type=\"double\"> </MultSLMGlob>\n",
"                     <Pose2Init Nb=\"?\">\n",
"                           <ProfMin Nb=\"1\" Type=\"std::vector<int>\"> </ProfMin>\n",
"                           <Show Nb=\"?\" Type=\"bool\" Def=\"false\"> </Show>\n",
"<!-- -1 on ne complemente pas, 0 on complemente avec le pas du dernier etage -->\n",
"                           <StepComplemAuto Nb=\"?\" Type=\"int\" Def=\"0\"> </StepComplemAuto>\n",
"                     </Pose2Init>\n",
"                     <SetRayMaxUtileCalib Nb=\"*\">\n",
"                          <Name Nb=\"1\" Type=\"std::string\"></Name>\n",
"                          <Ray Nb=\"1\" Type=\"double\"> </Ray>\n",
"                          <IsRelatifDiag  Nb=\"?\" Type=\"bool\" Def=\"false\"> </IsRelatifDiag>\n",
"                          <ApplyOnlyFE  Nb=\"?\" Type=\"bool\" Def=\"false\"> </ApplyOnlyFE>\n",
"                     </SetRayMaxUtileCalib>\n",
"\n",
"\n",
"                      <!--  Critere envisage de bascule :\n",
"                              - sur centre (GPS)\n",
"                              - sur points appuis\n",
"                              - sur zone plane ou autre critere de forme(droite ?)\n",
"                              - par fusion a posteriori de nuage ?\n",
"                      -->\n",
"                     <BasculeOrientation Nb=\"?\">\n",
"                          <AfterCompens Nb=\"?\" Type=\"bool\" Def=\"true\"></AfterCompens>\n",
"			  <PatternNameApply Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternNameApply>\n",
"			  <PatternNameEstim Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternNameEstim>\n",
"                          <FileExportDir Nb=\"?\" Type=\"std::string\"> </FileExportDir>\n",
"                          <FileExportInv Nb=\"?\" Type=\"std::string\"> </FileExportInv>\n",
"\n",
"                          <ModeBascule Nb=\"1\" UnionType=\"true\">\n",
"                               <BasculeOnPoints Nb=\"?\">\n",
"                             <!-- Permet de forcer a partir d'une solution existante stockee dans un xml -->\n",
"                                   <ForceSol Nb=\"?\" Type=\"std::string\"> </ForceSol>\n",
"                          <!-- Si elle donnee, elle force le centre et tout les triplets\n",
"                              le contiennent\n",
"                          -->\n",
"                                   <BascOnCentre Nb=\"?\">\n",
"                                        <PoseCentrale Nb=\"?\" Type=\"std::string\"> </PoseCentrale>\n",
"                                        <EstimateSpeed Type=\"bool\" Nb=\"?\" Def=\"false\"> </EstimateSpeed>\n",
"                                   </BascOnCentre>\n",
"                                   <BascOnAppuis Nb=\"?\">\n",
"                                        <NameRef Nb=\"1\" Type=\"std::string\"> </NameRef>   \n",
"                                   </BascOnAppuis>\n",
"                                   <ModeL2 Nb=\"?\" Type=\"bool\" Def=\"true\"> </ModeL2>\n",
"                                   <AerialDeformNonLin Nb=\"?\" AccessorFils=\"false\">\n",
"                                         <!-- Notation X gd Axe, Y Petit Axe -->\n",
"                                         <!-- Flag des polynome actif: Par ex pour Z\n",
"                                              Z = a0 + a1 X + a2 Y + a3 XX + a4 XY + a5 YY\n",
"                                              Si Z= F(X), a0a1a3 actif donc FlagZ= 11= 1 | 2 |8 \n",
"                                         -->\n",
"                                         <FlagX Nb=\"?\" Type=\"int\" Def=\"63\"> </FlagX>\n",
"                                         <FlagY Nb=\"?\" Type=\"int\" Def=\"63\"> </FlagY>\n",
"                                         <FlagZ Nb=\"?\" Type=\"int\" Def=\"63\"> </FlagZ>\n",
"                                         <ForceTrueRot Nb=\"?\" Type=\"bool\" Def=\"true\"> </ForceTrueRot>\n",
"                                         <PattEstim Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PattEstim>\n",
"                                         <Show Nb=\"?\" Type=\"bool\" Def=\"false\"> </Show>\n",
"                                   </AerialDeformNonLin>\n",
"                                   <NameExport Nb=\"?\" Type=\"std::string\"> </NameExport>\n",
"                               </BasculeOnPoints>\n",
"\n",
"                               <BasculeLiaisonOnPlan Nb=\"?\">\n",
"                                    <EstimPl  Nb=\"1\" RefType=\"ParamEstimPlan\"> </EstimPl>\n",
"                                    <OrientInPlane Nb=\"?\">\n",
"                                         <DistFixEch Nb=\"?\" Type=\"double\"> </DistFixEch>  <!-- Si 0 , unused -->\n",
"                                         <FileMesures Nb=\"1\" Type=\"std::string\"> </FileMesures>\n",
"                                         <AlignOn Nb=\"?\" Type=\"std::string\" Def=\"ki\">   </AlignOn>\n",
"                                    </OrientInPlane>\n",
"                               </BasculeLiaisonOnPlan>\n",
"                          </ModeBascule>\n",
"                     </BasculeOrientation>\n",
"                     <!-- Fixe l'echelle, les point sont saisi en stereo -->\n",
"                     <FixeEchelle Nb=\"?\">\n",
"                         <ModeFE Nb=\"1\" UnionType=\"true\"> \n",
"                              <StereoFE Nb=\"?\">\n",
"                                  <!-- Taille =2 necessairement -->\n",
"                                  <HomFE Nb=\"+\" Container=\"std::vector\" RefType=\"AperoPointeStereo\"> </HomFE>\n",
"                              </StereoFE>\n",
"                              <FEFromFile Nb=\"?\" RefType=\"Apero2PointeFromFile\"> </FEFromFile>\n",
"                         </ModeFE> \n",
"                         <DistVraie Nb=\"1\" Type=\"double\"> </DistVraie>\n",
"                     </FixeEchelle>\n",
"\n",
"                     <!-- Va calculer une rotation dans le plan horizontal -->\n",
"                     <FixeOrientPlane Nb=\"?\">\n",
"                         <!-- On donne un couple de points, et une direction cible -->\n",
"                         <ModeFOP Nb=\"1\" UnionType=\"true\"> \n",
"                              <!-- Cas courant, les points sont au meme Z, pas besoin de stereo -->\n",
"                             <HorFOP Nb=\"?\"> \n",
"                                  <!-- Taille =2 necessairement -->\n",
"                                  <VecFOH Nb=\"+\" Container=\"std::vector\" RefType=\"AperoPointeMono\"> </VecFOH>\n",
"                                  <Z Nb=\"?\" Type=\"double\" Def=\"0\"> </Z>\n",
"                             </HorFOP> \n",
"                             \n",
"                             <HorFromFile Nb=\"?\" RefType=\"Apero2PointeFromFile\"> </HorFromFile>\n",
"\n",
"                         </ModeFOP>\n",
"                         <Vecteur Nb=\"1\" Type=\"Pt2dr\"> </Vecteur>\n",
"                     </FixeOrientPlane>\n",
"                     <!-- Cas basique, on conserve l'orientation globale d'une image -->\n",
"                     <BasicOrPl Nb=\"?\" Type=\"std::string\"> </BasicOrPl>\n",
"                     <BlocBascule Nb=\"?\"> \n",
"                           <Pattern1 Nb=\"1\" Type=\"std::string\"> </Pattern1>\n",
"                           <Pattern2 Nb=\"1\" Type=\"std::string\"> </Pattern2>\n",
"                           <IdBdl Nb=\"1\"  Type=\"std::string\"> </IdBdl>\n",
"                     </BlocBascule>\n",
"\n",
"\n",
"                     <EstimateOrientationInitBlockCamera Nb=\"*\" RefType=\"Xml_EstimateOrientationInitBlockCamera\">\n",
"                     </EstimateOrientationInitBlockCamera>\n",
"\n",
"                     <MesureErreurTournante Nb=\"?\">\n",
"                          <Periode Nb=\"1\" Type=\"int\"> </Periode>\n",
"                          <NbTest Nb=\"?\"  Type=\"int\"> </NbTest>\n",
"                          <NbIter Nb=\"?\"  Type=\"int\" Def=\"4\"> </NbIter>\n",
"                          <!-- Pour l'instant ne pas changer ces valeurs par defaut -->\n",
"                          <ApplyAppuis Nb=\"?\" Type=\"bool\" Def=\"true\"> </ApplyAppuis>\n",
"                          <ApplyLiaisons Nb=\"?\" Type=\"bool\" Def=\"false\"> </ApplyLiaisons>\n",
"                     </MesureErreurTournante>\n",
"\n",
"\n",
"\n",
"\n",
"		     <SectionContraintes  Nb=\"?\">\n",
"		         <ContraintesCamerasInc Nb=\"*\"> \n",
"		             <TolContrainte Nb=\"?\" Type=\"double\" Def=\"-1\">  <!--  TOL -->\n",
"			     </TolContrainte>\n",
"			     <PatternNameApply Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternNameApply>\n",
"                             <!-- Si true le PatternNameApply est matche sur Nom%(Focm*10) -->\n",
"                             <Val Nb=\"+\" Type=\"eTypeContrainteCalibCamera\"> </Val>\n",
"                             <PatternRefuteur Type=\"cElRegex_Ptr\" Nb=\"?\"> </PatternRefuteur>\n",
"		         </ContraintesCamerasInc> \n",
"\n",
"		         <ContraintesPoses Nb=\"*\">\n",
"<!-- OK cSetName -->\n",
"                             <ByPattern Type=\"bool\" Nb=\"?\" Def=\"false\"> </ByPattern>\n",
"                             <PatternRefuteur Type=\"std::string\" Nb=\"?\"> </PatternRefuteur>\n",
"                             <!-- Ces tolerances sont un rappel sur la valeur initiale -->\n",
"		             <TolAng Nb=\"?\" Type=\"double\" Def=\"-1\">  </TolAng>\n",
"		             <TolCoord Nb=\"?\" Type=\"double\" Def=\"-1\">  </TolCoord>\n",
"			     <!-- En general les contraintes ne s'applique qu'a une seule pose-->\n",
"			     <NamePose Nb=\"1\" Type=\"std::string\"> </NamePose>\n",
"                             <Val Nb=\"1\" Type=\"eTypeContraintePoseCamera\"> </Val>\n",
"			     <!-- Certaines contraintes mettent en cause d'autres poses, pour\n",
"			         l'instant inutile puis que la pose de rattachement doit etre connue, \n",
"			         mais prepare le cas ou il sera variable\n",
"			     -->\n",
"			     <PoseRattachement Nb=\"?\" Type=\"std::string\"> </PoseRattachement>\n",
"		         </ContraintesPoses>\n",
"		     </SectionContraintes>\n",
"		     <Messages Nb=\"*\" Type=\"std::string\"> </Messages>\n",
"\n",
"                     <!-- Cree un interface de visualisation de points multiples, utilise 1ere fois\n",
"                          avant la compensation  -->\n",
"                 <VisuPtsMult Nb=\"*\">\n",
"		      <Cam1 Nb=\"1\" Type=\"std::string\"> </Cam1>\n",
"                      <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                      <SzWPrinc Nb=\"?\" Type=\"int\" Def=\"500\"> </SzWPrinc>\n",
"                      \n",
"\n",
"                      <SzWAux Nb=\"?\" Type=\"int\" Def=\"100\"> </SzWAux>\n",
"                      <ZoomWAux Nb=\"?\" Type=\"int\" Def=\"5\"> </ZoomWAux>\n",
"                      <NbWAux Nb=\"1\" Type=\"Pt2di\">  </NbWAux>\n",
"                      <AuxEnDessous Nb=\"1\" Type=\"bool\"> </AuxEnDessous>\n",
"\n",
"                      <MaxDistReproj Nb=\"?\" Type=\"double\" Def=\"1.5\"> </MaxDistReproj>\n",
"                      <MaxDistSift Nb=\"?\" Type=\"double\" Def=\"1.0\"> </MaxDistSift>\n",
"                      <MaxDistProjCorr Nb=\"?\" Type=\"double\" Def=\"3.0\"> </MaxDistProjCorr>\n",
"\n",
"                      <SeuilCorrel Nb=\"?\" Type=\"double\" Def=\"0.85\"> </SeuilCorrel>\n",
"                 </VisuPtsMult>\n",
"\n",
"                 <VerifAero Nb=\"*\">\n",
"                      <PatternApply Nb=\"1\" Type=\"std::string\"> </PatternApply>\n",
"                      <IdBdLiaison Nb=\"1\" Type=\"std::string\"> </IdBdLiaison>\n",
"                      <Pond Nb=\"1\" RefType=\"PonderationPackMesure\"> </Pond>\n",
"                      <Prefixe Nb=\"1\"  Type=\"std::string\"> </Prefixe>\n",
"\n",
"                      <TypeVerif Nb=\"1\" Type=\"eTypeVerif\" > </TypeVerif>\n",
"                      <SeuilTxt Nb=\"1\" Type=\"double\"> </SeuilTxt>\n",
"<!--   Do  Champ -->\n",
"\n",
"                      <Resol Nb=\"1\" Type=\"double\"> </Resol>\n",
"                      <PasR Nb=\"1\" Type=\"double\"> </PasR>\n",
"                      <PasB Nb=\"1\" Type=\"double\"> </PasB>\n",
"\n",
"                 </VerifAero>\n",
"\n",
"                  <!-- Est fait avant la compensation -->\n",
"		     <ExportSimulation Nb=\"*\">\n",
"		          <GeneratePointsTerrains Nb=\"1\" UnionType=\"true\">\n",
"			      <GPtsTer_By_File Nb=\"?\" Type=\"std::string\"> </GPtsTer_By_File> \n",
"			      <GPtsTer_By_ImProf Nb=\"?\">\n",
"			            <Origine Nb=\"1\" Type=\"Pt3dr\"> </Origine>\n",
"			            <Step  Nb=\"1\" Type=\"Pt3dr\"> </Step>\n",
"				    <NbPts Nb=\"1\" Type=\"int\">  </NbPts>\n",
"				    <OnGrid Nb=\"1\" Type=\"bool\"> </OnGrid>\n",
"				    <File Nb=\"1\" Type=\"std::string\"> </File>\n",
"				    <RandomizeInGrid Nb=\"?\" Type=\"double\" Def=\"0.0\"> </RandomizeInGrid>\n",
"				    <!-- Si non sepecifie c'est du terrain, sinon geometrie image-->\n",
"				    <ImMaitresse Nb=\"?\" Type=\"std::string\"> </ImMaitresse>\n",
"				    <DTMIsZ Nb=\"?\" Type=\"bool\" Def=\"true\"> </DTMIsZ>\n",
"			      </GPtsTer_By_ImProf>\n",
"		          </GeneratePointsTerrains>\n",
"		          <GenerateLiaisons Nb=\"*\">\n",
"			       <KeyAssoc Nb=\"1\" Type=\"std::string\"> </KeyAssoc>\n",
"			       <FilterIm1  Nb=\"?\" Type=\"std::string\" Def=\".*\"> </FilterIm1>\n",
"			       <FilterIm2  Nb=\"?\" Type=\"std::string\" Def=\".*\"> </FilterIm2>\n",
"			       <BruitIm1  Nb=\"1\" Type=\"double\">  </BruitIm1>\n",
"			       <BruitIm2  Nb=\"1\" Type=\"double\">  </BruitIm2>\n",
"		          </GenerateLiaisons>\n",
"		     </ExportSimulation>\n",
"\n",
"                     <!-- Pour aller inspecter les cameras, les tests changeront de manier\n",
"                     opportuniste au fil des besoins -->\n",
"\n",
"                     <TestInteractif Nb=\"?\"> \n",
"                          <AvantCompens Nb=\"?\" Type=\"bool\" Def=\"false\"> </AvantCompens>\n",
"                          <ApresCompens Nb=\"?\" Type=\"bool\" Def=\"false\"> </ApresCompens>\n",
"                          <TestF2C2 Nb=\"?\" Type=\"bool\" Def=\"false\">  </TestF2C2>\n",
"                          <SetStepByStep Nb=\"?\" Type=\"bool\" Def=\"false\">  </SetStepByStep>\n",
"                     </TestInteractif>\n",
"		 </IterationsCompensation>\n",
"\n",
"		 <SectionTracage Nb=\"?\">\n",
"                     <!-- Tracage en mode texte, calcul et affiche des stats sur les  couples -->\n",
"		     <TraceCpleCam Nb=\"*\">\n",
"		          <Cam1 Nb=\"1\" Type=\"std::string\"> </Cam1>\n",
"		          <Cam2 Nb=\"1\" Type=\"std::string\"> </Cam2>\n",
"			  <TraceCpleHom Nb=\"*\" Type=\"std::string\"> \n",
"                                <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"			  </TraceCpleHom>\n",
"		     </TraceCpleCam>\n",
"                     <GetChar Nb=\"?\" Type=\"bool\" Def=\"true\"> </GetChar>\n",
"		 </SectionTracage>\n",
"\n",
"\n",
"                <!-- \n",
"                 -->\n",
"		 <SLMEtape  Nb=\"?\" RefType=\"SectionLevenbergMarkard\"> </SLMEtape>\n",
"		 <SLMGlob   Nb=\"?\" RefType=\"SectionLevenbergMarkard\"> </SLMGlob>\n",
"                 <MultSLMEtape   Nb=\"?\" Type=\"double\"> </MultSLMEtape>\n",
"                 <MultSLMGlob   Nb=\"?\" Type=\"double\"> </MultSLMGlob>\n",
"\n",
"\n",
"                 <SectionObservations Nb=\"1\">\n",
"\n",
"                     <ContrCamConseq Nb=\"?\">\n",
"                           <SigmaPix Nb=\"1\" Type=\"double\"> </SigmaPix>\n",
"                           <NbGrid Nb=\"1\" Type=\"int\"> </NbGrid>\n",
"                     </ContrCamConseq>\n",
"                       \n",
"                     <ContrCamGenInc Nb=\"*\">\n",
"                         <PatternApply Nb=\"?\" Type=\"std::string\">   </PatternApply>\n",
"                         <PdsAttachToId Nb=\"?\" Type=\"double\">       </PdsAttachToId>\n",
"                         <PdsAttachToLast Nb=\"?\" Type=\"double\">     </PdsAttachToLast>\n",
"                         <PdsAttachRGLob Nb=\"?\" Type=\"double\">      </PdsAttachRGLob>\n",
"                     </ContrCamGenInc>\n",
"\n",
"                      <!-- Ici il s'agit de point d'appuis \"sur\", -->\n",
"                      <!-- Ici il s'agit de point d'appuis \"sur\", -->\n",
"                     <ObsBlockCamRig Nb=\"*\">\n",
"                         <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                         <Show Type=\"bool\" Nb=\"?\" Def=\"false\"> </Show>\n",
"                         <!-- Pour les rotation/translation -->\n",
"                         <GlobalPond Nb=\"?\" RefType=\"RigidBlockWeighting\"> </GlobalPond>\n",
"                         <RelTimePond Nb=\"?\" RefType=\"RigidBlockWeighting\"> </RelTimePond>\n",
"\n",
"                         <!-- Pour les distance, la partie rot est ignoree -->\n",
"                         <GlobalDistPond Nb=\"?\" RefType=\"RigidBlockWeighting\"> </GlobalDistPond>\n",
"                         <RelTimeDistPond Nb=\"?\" RefType=\"RigidBlockWeighting\"> </RelTimeDistPond>\n",
"\n",
"                     </ObsBlockCamRig>\n",
"\n",
"                      <!-- Ici il s'agit de point d'appuis \"sur\", -->\n",
"		      <ObsAppuis Nb=\"*\">\n",
"		             <!-- Mesure \"naturelle\" = Terrain -->\n",
"	                     <NameRef Nb=\"1\" Type=\"std::string\"> </NameRef>\n",
"			     <Pond Nb=\"1\" RefType=\"PonderationPackMesure\"> </Pond>\n",
" <!-- Typiquement, pour faire des rapports de calibration -->\n",
"                             <RapportObsAppui Nb=\"?\">\n",
"                                 <OnlyLastIter Nb=\"?\" Type=\"bool\" Def=\"true\"> </OnlyLastIter>\n",
"                                 <FichierTxt Nb=\"1\" Type=\"std::string\"> </FichierTxt>\n",
"                                 <ColPerPose Nb=\"?\" Type=\"bool\" Def=\"false\"> </ColPerPose>\n",
"                                 <SeuilColOut Nb=\"?\" Type=\"double\" Def=\"1e3\"> </SeuilColOut>\n",
"                                 <ROA_FichierImg Nb=\"?\">\n",
"                                     <Name Nb=\"1\" Type=\"std::string\"> </Name>\n",
"                                     <Sz   Nb=\"1\" Type=\"double\"> </Sz>\n",
"                                     <Exag   Nb=\"1\" Type=\"double\"> </Exag>\n",
"                                     <VisuVideo Nb=\"?\" Type=\"bool\" Def=\"false\"></VisuVideo>\n",
"                                 </ROA_FichierImg>\n",
"                             </RapportObsAppui>\n",
"		      </ObsAppuis>\n",
"\n",
"		      <ObsAppuisFlottant Nb=\"*\">\n",
"	                     <NameRef Nb=\"1\" Type=\"std::string\"> </NameRef>\n",
"			     <PondIm Nb=\"1\" RefType=\"PonderationPackMesure\"> </PondIm>\n",
"\n",
"			     <PtsShowDet Nb=\"*\" Type=\"cElRegex_Ptr\"> </PtsShowDet>\n",
"                             <DetShow3D  Nb=\"?\" Type=\"bool\" Def=\"false\"> </DetShow3D>\n",
"                             <NivAlerteDetail Nb=\"?\" Type=\"double\" Def=\"1e9\"> </NivAlerteDetail>\n",
"			     <ShowMax    Nb=\"?\" Type=\"bool\" Def=\"false\"> </ShowMax>\n",
"			     <ShowSom    Nb=\"?\" Type=\"bool\" Def=\"false\"> </ShowSom>\n",
"			     <ShowUnused    Nb=\"?\" Type=\"bool\" Def=\"true\"> </ShowUnused>\n",
"\n",
"		      </ObsAppuisFlottant>\n",
"\n",
"\n",
"		      <ObsLiaisons Nb=\"*\">\n",
"		             <!-- Mesure \"naturelle\" = Image -->\n",
"	                     <NameRef Nb=\"1\" Type=\"std::string\"> </NameRef>\n",
"			     <Pond Nb=\"1\" RefType=\"PonderationPackMesure\"> </Pond>\n",
"		             <!--  PondPlan Ssi la liaison a ete declaree plane -->\n",
"			     <PondSurf Nb=\"?\" RefType=\"PonderationPackMesure\"> </PondSurf>\n",
"                             <!-- TRI VALEUR Si on le donne : x =Z, y = Poids compens z=seuil -->\n",
"                             <RappelOnZ Nb=\"?\">  \n",
"			           <!-- Si KeyGrpApply est init, ne s'applique que quand toutes les cameras sont du meme KeyGrpApply -->\n",
"			           <KeyGrpApply Nb=\"?\" Type=\"std::string\"> </KeyGrpApply>\n",
"                                   <Z Nb=\"1\" Type=\"double\"> </Z>\n",
"                                   <!-- Incertitude pour l'estimation et la compensation -->\n",
"                                   <IncC Nb=\"1\" Type=\"double\"> </IncC>\n",
"                                   <IncE Nb=\"?\" Type=\"double\"> </IncE>\n",
"                                   <SeuilR Nb=\"?\" Type=\"double\"> </SeuilR> <!-- Seuil Rejet -->\n",
"                                   <LayerMasq Nb=\"?\" Type=\"std::string\"> </LayerMasq>\n",
"                             </RappelOnZ>\n",
"		      </ObsLiaisons>\n",
"\n",
"		      <ObsCentrePDV Nb=\"*\">\n",
"                             <PatternApply Nb=\"?\" Type=\"cElRegex_Ptr\"> </PatternApply>\n",
"			     <Pond Nb=\"1\" RefType=\"PonderationPackMesure\"> </Pond>\n",
"                             <!-- Si la Ponderation Alti est differente  de la ponderation plani-->\n",
"			     <PondAlti Nb=\"?\" RefType=\"PonderationPackMesure\"> </PondAlti>\n",
"                             <ShowTestVitesse  Nb=\"?\"  Type=\"bool\" Def=\"false\"> </ShowTestVitesse>\n",
"		      </ObsCentrePDV>\n",
"\n",
"		      <ObsRigidGrpImage Nb=\"*\">\n",
"                          <RefGrp Nb=\"1\" Type=\"std::string\"></RefGrp>\n",
"                          <ORGI_CentreCommun Nb=\"?\" AccessorFils=\"false\">\n",
"                              <Incertitude Nb=\"1\" Type=\"Pt3dr\"> </Incertitude>\n",
"                          </ORGI_CentreCommun>\n",
"                          <ORGI_TetaCommun Nb=\"?\" AccessorFils=\"false\">\n",
"                              <Incertitude Nb=\"1\" Type=\"Pt3dr\"> </Incertitude>\n",
"                          </ORGI_TetaCommun>\n",
"		      </ObsRigidGrpImage>\n",
" \n",
"                     <TxtRapDetaille Nb=\"?\">\n",
"                           <NameFile Nb=\"1\" Type=\"std::string\"> </NameFile>\n",
"                     </TxtRapDetaille>\n",
"\n",
"                     <ObsRelGPS Nb=\"*\">\n",
"                          <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                          <Pond Nb=\"1\" RefType=\"GpsRelativeWeighting\"> </Pond>\n",
"                     </ObsRelGPS>\n",
"\n",
"                 </SectionObservations>\n",
"\n",
"		 <SectionExport Nb=\"?\" >\n",
" <!-- WARN ::  Appele a partir de la cle et non du fichier effectif -->\n",
"		     <ExportCalib Nb=\"*\" AccessorFils=\"false\" >\n",
"		         <PatternSel Nb=\"?\" Type=\"std::string\" Def=\".*\" > </PatternSel>\n",
"			 <KeyAssoc    Nb=\"1\" Type=\"std::string\"  > </KeyAssoc>\n",
"                         <Prefix Nb=\"?\" Type=\"std::string\" Def=\"\"> </Prefix>\n",
"                         <Postfix Nb=\"?\" Type=\"std::string\" Def=\"\"> </Postfix>\n",
"                         <KeyIsName Nb=\"?\" Type=\"bool\" Def=\"false\"> </KeyIsName>\n",
"<!-- Ca c'est les grilles anciennes pour compatibilite SAA -->\n",
"                         <ExportAsGrid  Nb=\"?\">\n",
"                               <DoExport Nb=\"?\" Type=\"bool\" Def=\"true\"> </DoExport>\n",
"                               <Name Nb=\"1\" Type=\"std::string\"> </Name>\n",
"                               <XML_Supl Nb=\"?\" Type=\"std::string\"> </XML_Supl>\n",
"                               <XML_Autonome Nb=\"?\" Type=\"bool\" Def=\"false\"> </XML_Autonome>\n",
"                               <RabPt  Nb=\"?\" Type=\"Pt2dr\" Def=\"Pt2dr(200,200)\"> </RabPt>\n",
"                               <Step   Nb=\"?\" Type=\"Pt2dr\" Def=\"Pt2dr(20,20)\"> </Step>\n",
"                         </ExportAsGrid>\n",
"                         <ExportAsNewGrid Nb=\"?\"  AccessorFils=\"false\" RefType=\"ExportAsNewGrid\"> </ExportAsNewGrid>\n",
"                         <!-- Points de verifications -->\n",
"		     </ExportCalib>\n",
"		     <ExportPose Nb=\"*\" AccessorFils=\"false\" >\n",
"                          <Force2ObsOnC Nb=\"?\">\n",
"                              <WhenExist Nb=\"?\" Type=\"bool\" Def=\"false\"> </WhenExist> <!-- Si false et pas => erreur -->\n",
"                          </Force2ObsOnC>\n",
"                          <ChC Nb=\"?\" Type=\"std::string\"> </ChC>\n",
"                          <ChCForceRot Nb=\"?\" Type=\"bool\" Def=\"false\"> </ChCForceRot>\n",
"                          <KeyAssoc  Nb=\"1\" Type=\"std::string\"> </KeyAssoc>\n",
"                          <StdNameMMDir  Nb=\"?\" Type=\"std::string\"> </StdNameMMDir>\n",
"			  <AddCalib   Nb=\"?\" Type=\"bool\" Def=\"true\"> </AddCalib>\n",
"                          <ExportAsNewGrid Nb=\"?\"  AccessorFils=\"false\" RefType=\"ExportAsNewGrid\"> </ExportAsNewGrid>\n",
"                          <FileExtern Nb=\"?\" Type=\"std::string\"> </FileExtern>\n",
"\n",
"                          <FileExternIsKey Nb=\"?\" Type=\"bool\" Def=\"false\"></FileExternIsKey>\n",
"\n",
"                          <!-- Devrait etre true mais par compat def=false, si true alors\n",
"                               FileExternIsKey aussi -->\n",
"                          <CalcKeyFromCalib Nb=\"?\" Type=\"bool\" Def=\"false\"></CalcKeyFromCalib>\n",
"                          <RelativeNameFE Nb=\"?\" Type=\"bool\" Def=\"true\"></RelativeNameFE>\n",
"\n",
"			  <ModeAngulaire Nb=\"?\" Type=\"bool\" Def=\"false\"> </ModeAngulaire>\n",
"		          <PatternSel Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternSel>\n",
"\n",
"                          <!-- Points de verifications -->\n",
"			  <NbVerif    Nb=\"?\" Type=\"int\"  Def=\"0\">    </NbVerif>\n",
"			  <VerifDeterm    Nb=\"?\" Type=\"Pt3di\">    </VerifDeterm>\n",
"			  <ShowWhenVerif   Nb=\"?\" Type=\"bool\" Def=\"true\"> </ShowWhenVerif>\n",
"			  <TolWhenVerif   Nb=\"?\" Type=\"double\" Def=\"1e-3\"> </TolWhenVerif>\n",
"		     </ExportPose>\n",
"\n",
"                     <ExportAttrPose Nb=\"*\">\n",
"                          <KeyAssoc  Nb=\"1\" Type=\"std::string\"> </KeyAssoc>\n",
"                          <AttrSup Nb=\"?\" Type=\"std::string\"> </AttrSup>\n",
"                          <PatternApply Nb=\"1\" Type=\"std::string\"> </PatternApply>\n",
"                          <ExportDirVerticaleLocale Nb=\"?\" RefType=\"ParamEstimPlan\"> </ExportDirVerticaleLocale>\n",
"                     </ExportAttrPose>\n",
"\n",
" \n",
"                     <!-- + ou - les meme fonctionnalite que bascule mais lorsque l'on veut juste memoriser\n",
"                          les valeurs sans modifier les orientations; typiquement pour definir un repere\n",
"                          qui sera utile a la correlation -->\n",
"                     <ExportRepereLoc Nb=\"*\">\n",
"                          <NameRepere  Nb=\"1\" Type=\"std::string\"> </NameRepere>\n",
"                          <PatternEstimPl Nb=\"1\" Type=\"std::string\"> </PatternEstimPl>\n",
"                          <EstimPlanHor Nb=\"1\" RefType=\"ParamEstimPlan\"> </EstimPlanHor>\n",
"                          <!-- Defaut PatternEstimPl !! Ok si le patern est un nom d'image, sinon pb ,\n",
"                              si vaut NoP1P2 alors on ne fait rien, convention utile pour Bascule;\n",
"                              Si ce se termine par xml; aors interprete  comme un nom de fichier\n",
"                              creee selon la structure SaisieBasc; ds ce cas P1 et P2 sont ignores\n",
"                           -->\n",
"                          <ImP1P2 Nb=\"?\" Type=\"std::string\"> </ImP1P2>\n",
"                          <P1 Nb=\"1\" Type=\"Pt2dr\"> </P1>\n",
"                          <P2 Nb=\"1\" Type=\"Pt2dr\"> </P2>\n",
"                          <!-- -->\n",
"                          <!-- Definit l'axe OX du repere -->\n",
"                          <AxeDef Nb=\"?\" Type=\"Pt2dr\" Def=\"Pt2dr(1,0)\"> </AxeDef>\n",
"                          <Origine Nb=\"?\" Type=\"Pt2dr\"> </Origine> <!-- Def P1 , pas vraiment utile en correl -->\n",
"                          <NameImOri Nb=\"?\" Type=\"std::string\"> </NameImOri>\n",
"                          <!-- Si true P1P2 est la direction du plan qui est horizontale-->\n",
"                          <P1P2Hor Nb=\"?\" Type=\"bool\" Def=\"false\"> </P1P2Hor>\n",
"                          <P1P2HorYVert Nb=\"?\" Type=\"bool\" Def=\"false\"> </P1P2HorYVert>\n",
"                          <ExportOrthoCyl Nb=\"?\">\n",
"                               <UseIt Nb=\"?\" Type=\"bool\" Def=\"true\"></UseIt>\n",
"                               <PatternEstimAxe Nb=\"?\" Type=\"std::string\"> </PatternEstimAxe>\n",
"                               <AngulCorr Nb=\"1\" Type=\"bool\"> </AngulCorr>\n",
"                               <L2EstimAxe Nb=\"?\" Type=\"bool\" Def=\"true\">  </L2EstimAxe>\n",
"                          </ExportOrthoCyl>\n",
"                     </ExportRepereLoc>\n",
"\n",
"                     <ExportBlockCamera Nb=\"*\">\n",
"                         <Id Nb=\"1\" Type=\"std::string\"> </Id>\n",
"                         <NameFile Nb=\"1\" Type=\"std::string\"> </NameFile>\n",
"                         <Estimate Nb=\"?\" RefType=\"Xml_EstimateOrientationInitBlockCamera\"> </Estimate>\n",
"                     </ExportBlockCamera>\n",
"\n",
"\n",
"                     <ExportMesuresFromCarteProf Nb=\"*\">\n",
"                          <Cartes2Export Nb=\"+\">\n",
"                              <Im1 Nb=\"+\" Type=\"std::string\"> </Im1>\n",
"                              <Nuage Nb=\"1\"  Type=\"std::string\"> </Nuage>\n",
"                              <ImN Nb=\"*\" Type=\"std::string\"> </ImN>\n",
"                              <FilterIm2 Nb=\"?\" Type=\"std::string\" Def=\".*\"> </FilterIm2>\n",
"                          </Cartes2Export>\n",
"                          <IdBdLiaisonIn Nb=\"1\" Type=\"std::string\"> </IdBdLiaisonIn>\n",
"                          <!-- Le sens 12 est celui ou les premiers points sont ceux de la carte de profondeur,\n",
"                              a priori le + courant \n",
"                          -->\n",
"                          <KeyAssocLiaisons12 Nb=\"?\" Type=\"std::string\"> </KeyAssocLiaisons12>\n",
"                          <KeyAssocLiaisons21 Nb=\"?\" Type=\"std::string\"> </KeyAssocLiaisons21>\n",
"                          <KeyAssocAppuis Nb=\"?\" Type=\"std::string\"> </KeyAssocAppuis>\n",
"                          <AppuisModeAdd Nb=\"?\" Type=\"bool\" Def=\"true\"></AppuisModeAdd>\n",
"                          <LiaisonModeAdd Nb=\"?\" Type=\"bool\" Def=\"false\"></LiaisonModeAdd>\n",
"                     </ExportMesuresFromCarteProf>\n",
"\n",
"                     <!-- Pour aider a comprendre la configuration relative d'un groupe d'images -->\n",
"                     <ExportVisuConfigGrpPose Nb=\"*\">\n",
"		          <PatternSel Nb=\"+\" Type=\"std::string\"> </PatternSel>\n",
"                          <NameFile Nb=\"1\" Type=\"std::string\"> </NameFile>\n",
"                     </ExportVisuConfigGrpPose>\n",
"\n",
"		     <ExportPtsFlottant Nb=\"?\" AccessorFils=\"false\">\n",
"		          <PatternSel Nb=\"?\" Type=\"std::string\" Def=\".*\" > </PatternSel>\n",
"			  <NameFileXml    Nb=\"?\" Type=\"std::string\"  > </NameFileXml>\n",
"			  <NameFileTxt    Nb=\"?\" Type=\"std::string\"  > </NameFileTxt>\n",
"			  <TextComplTxt Nb=\"?\" Type=\"std::string\">  </TextComplTxt>\n",
"		     </ExportPtsFlottant>\n",
"\n",
"		     <ExportImResiduLiaison Nb=\"*\">\n",
"			  <Signed Nb=\"?\" Type=\"bool\" Def=\"true\"> </Signed>\n",
"\n",
"                     <!-- Partie image -->\n",
"\n",
"		          <!-- Les residus d'une calib, en geom image -->\n",
"		          <PatternGlobCalIm Nb=\"1\" Type=\"std::string\"> </PatternGlobCalIm>\n",
"			  <NameGlobCalIm Nb=\"1\" Type=\"std::string\"> </NameGlobCalIm>\n",
"\n",
"			  <ScaleIm  Nb=\"1\" Type=\"double\"> </ScaleIm>\n",
"			  <DynIm Nb=\"1\" Type=\"double\">  </DynIm>\n",
"\n",
"		            <!-- Les residus de chaque couple en geom image -->\n",
"                           <ResidusIndiv Nb=\"?\">\n",
"		                <Pattern Nb=\"1\" Type=\"std::string\"> </Pattern>\n",
"				<!-- A partir de N1@N2 -->\n",
"			        <Name Nb=\"1\" Type=\"std::string\"> </Name>\n",
"                           </ResidusIndiv>\n",
"		     </ExportImResiduLiaison>\n",
"\n",
"                     <ExportRedressement Nb=\"*\">\n",
"                           <Dyn Nb=\"?\"  Type=\"double\" Def=\"1.0\">     </Dyn>\n",
"                           <Gamma Nb=\"?\"  Type=\"double\" Def=\"1.0\">     </Gamma>\n",
"                           <TypeNum Nb=\"?\"  Type=\"eTypeNumerique\">     </TypeNum>\n",
"                           <Offset Nb=\"?\"  Type=\"double\" Def=\"0.0\">     </Offset>\n",
"\n",
"                           <PatternSel  Nb=\"?\"  Type=\"cElRegex_Ptr\"> </PatternSel>\n",
"                           <KeyAssocIn  Nb=\"?\"  Type=\"std::string\">  </KeyAssocIn>\n",
"\n",
"                      <!-- Cam -> Im :  Pim= (Pcam-Offset) / Scale             -->\n",
"                           <OffsetIm   Nb=\"?\" Type=\"Pt2dr\" Def=\"Pt2dr(0,0)\"> </OffsetIm>\n",
"                           <ScaleIm   Nb=\"?\" Type=\"double\" Def=\"1.0\"> </ScaleIm>\n",
"\n",
"                           <KeyAssocOut Nb=\"1\"  Type=\"std::string\">  </KeyAssocOut>\n",
"                           <ZSol        Nb=\"?\"  Type=\"double\">       </ZSol>\n",
"                           <Resol       Nb=\"1\"  Type=\"double\">       </Resol>\n",
"                           <!-- Si true, la resolution est relative / a la resolution image -->\n",
"                           <ResolIsRel  Nb=\"1\"  Type=\"bool\"> </ResolIsRel>\n",
"\n",
"                           <!-- Si true, la resolution est relative / a la resolution image -->\n",
"\n",
"                           <DoTFW  Nb=\"?\" Type=\"bool\" Def=\"false\"> </DoTFW>\n",
"                           <TetaLimite Nb=\"1\" Type=\"double\"> </TetaLimite>\n",
"                           <DirTetaLim Nb=\"?\" Type=\"Pt3dr\" Def=\"Pt3dr(0,0,-1)\"> </DirTetaLim>\n",
"                           <DoOnlyIfNew Nb=\"?\" Type=\"bool\" Def=\"true\"> </DoOnlyIfNew>\n",
"                     </ExportRedressement>\n",
"\n",
"                     <ExportNuage Nb=\"*\">\n",
"                          <!-- Pour l'instant par defaut mode ply -->\n",
"                          <NameOut Nb=\"1\" Type=\"std::string\"> </NameOut>\n",
"                          <!-- Si on veut avoir pour chaque image un fichier specfique des points vue par cette image-->\n",
"                          <ExportNuageByImage Nb=\"?\">\n",
"                               <KeyCalc Nb=\"1\" Type=\"std::string\"> </KeyCalc>\n",
"                               <!-- Si Symetrise Pts, alors les points sont ajoutes autrement que pour la vue maitresse; la valeur par defaut anticipe ce que l'on fera avec des \"vrai\" point multiple -->\n",
"                               <SymPts Nb=\"?\" Type=\"bool\" Def=\"true\"> </SymPts>\n",
"                          </ExportNuageByImage>\n",
"                          <PlyModeBin Nb=\"?\" Def=\"true\" Type=\"bool\"> </PlyModeBin>\n",
"                          <SavePtsCol Nb=\"?\" Def=\"true\" Type=\"bool\"> </SavePtsCol>\n",
"                          <!-- Pour l'instant par defaut mode ply -->\n",
"	                  <NameRefLiaison Nb=\"*\" Type=\"std::string\"> </NameRefLiaison>\n",
"\n",
"                          <PatternSel Nb=\"?\" Type=\"std::string\"> </PatternSel>  <!-- Set Or Pat -->\n",
"\n",
"                          <!-- Utile : 1 pour me simplifier la vie 2 en + on peut filtrer\n",
"                               des outlayer probable\n",
"                           -->\n",
"			  <Pond Nb=\"1\" RefType=\"PonderationPackMesure\"> </Pond>\n",
"                          <!-- Si renvoie \"NoFile\"  alors on utilise pas, on fait un coloriage\n",
"                               hypso en profondeur;\n",
"                               Si renvoie \"NormalePoisson\" alors on colorie avec les normale pour\n",
"                               utilise ensuite Kazdhan-Poisson-Surface-Reconsctruction\n",
"                             -->\n",
"                          <KeyFileColImage Nb=\"1\" Type=\"std::string\"> </KeyFileColImage>\n",
"                          <NbChan Nb=\"?\" Type=\"int\" Def=\"-1\"> </NbChan>\n",
"                          <DirCol Nb=\"?\" Type=\"Pt3dr\" Def=\"Pt3dr(0,0,1)\"> </DirCol>\n",
"                          <PerCol Nb=\"?\" Type=\"double\" Def=\"2.0\"> </PerCol>\n",
"                          <LimBSurH Nb=\"?\" Type=\"double\" Def=\"1e-2\"> </LimBSurH>\n",
"\n",
"                          <ImExpoRef Nb=\"?\" Type=\"std::string\"> </ImExpoRef>\n",
"\n",
"                          <NuagePutCam Nb=\"?\">\n",
"                              <ColCadre Nb=\"1\" Type=\"Pt3di\"> </ColCadre>\n",
"                              <!-- Def : ColRay = ColCadre -->\n",
"                              <ColRay Nb=\"?\" Type=\"Pt3di\"> </ColRay>\n",
"                              <Long Nb=\"1\" Type=\"double\"> </Long>\n",
"                              <StepSeg Nb=\"1\" Type=\"double\"> </StepSeg>\n",
"                              <KeyCalName Nb=\"?\" Type=\"std::string\"> </KeyCalName> \n",
"\n",
"                              <StepImage Nb=\"?\" Type=\"double\" Def=\"-1.0\"> </StepImage>\n",
"                              <HomolRay  Nb=\"?\" Type=\"std::string\"> </HomolRay>\n",
"                              <ColRayHomol Nb=\"?\" Type=\"Pt3di\"> </ColRayHomol>\n",
"                          </NuagePutCam>\n",
"\n",
"                          <NuagePutInterPMul Nb=\"?\">\n",
"                               <NamePMul Nb=\"1\" Type=\"std::string\"> </NamePMul>\n",
"                               <StepDr   Nb=\"1\" Type=\"double\">      </StepDr>\n",
"                               <RabDr    Nb=\"?\" Type=\"double\" Def=\"0.0\">      </RabDr>\n",
"                               <ColRayInter    Nb=\"1\" Type=\"Pt3di\">      </ColRayInter>\n",
"                               <Epais     Nb=\"?\" Type=\"double\">      </Epais>\n",
"                          </NuagePutInterPMul>\n",
"				\n",
"                          <NuagePutGCPCtrl Nb=\"?\">\n",
"                               <NameGCPIm Nb=\"1\" Type=\"std::string\"> </NameGCPIm>\n",
"                               <NameGCPTerr Nb=\"1\" Type=\"std::string\"> </NameGCPTerr>\n",
"			       				<ScaleVec Nb=\"1\" Type=\"double\"> </ScaleVec>\n",
"                            	<!--   <StepDr   Nb=\"1\" Type=\"double\">      </StepDr>\n",
"                               <RabDr    Nb=\"?\" Type=\"double\" Def=\"0.0\">      </RabDr>\n",
"                               <ColRayInter    Nb=\"1\" Type=\"Pt3di\">      </ColRayInter>\n",
"                               <Epais     Nb=\"?\" Type=\"double\">      </Epais> -->\n",
"                          </NuagePutGCPCtrl>\n",
"\n",
"						  <NormByC Nb=\"?\" Type=\"int\"> </NormByC>\n",
"\n",
"                     </ExportNuage>\n",
"\n",
"                     <ChoixImMM Nb=\"?\">\n",
"                          <ChoixImSec Nb=\"1\">\n",
"                               <KeyExistingFile Nb=\"?\" Type=\"std::string\"> </KeyExistingFile>\n",
"                               <FileImSel Nb=\"?\" Type=\"std::string\"> </FileImSel>\n",
"                               <!-- Devenu optionnel car pr Xeres figee par appli -->\n",
"                               <KeyAssoc Nb=\"?\" Type=\"std::string\"> </KeyAssoc>\n",
"                               <PatternSel Nb=\"?\" Type=\"std::string\" Def=\".*\"> </PatternSel>\n",
"                               <CardMaxSub Nb=\"?\" Type=\"int\" Def=\"6\"> </CardMaxSub>\n",
"                 <!-- Pls c'est faible plus il y aura d'image dans la best sol,  Score=Cover - NbIm *PenalNbIm -->\n",
"                               <PenalNbIm Nb=\"?\" Type=\"double\" Def=\"0.3\"> </PenalNbIm>\n",
"                               <NbMin Nb=\"1\" Type=\"int\"> </NbMin>\n",
"                               <IdBdl Nb=\"1\" Type=\"std::string\"> </IdBdl>\n",
"                               <NbMinPtsHom  Nb=\"?\" Type=\"int\" Def=\"15\"> </NbMinPtsHom>\n",
"<!-- Pour les petits angles c'est en radian, pour les grand 1.0 correspond a 60 degres -->\n",
"                               <TetaMinPreSel Nb=\"?\" Type=\"double\" Def=\"0.025\"> </TetaMinPreSel>\n",
"                               <TetaOpt Nb=\"?\" Type=\"double\" Def=\"0.25\"> </TetaOpt>\n",
"                               <TetaMaxPreSel Nb=\"?\" Type=\"double\" Def=\"0.80\"> </TetaMaxPreSel>\n",
"\n",
"                               <RatioDistMin Nb=\"?\" Type=\"double\" Def=\"0.50\"> </RatioDistMin>\n",
"                               <!-- En cas d'epipolaire pour eviter les stereo verticale -->\n",
"                               <RatioStereoVertMax Nb=\"?\" Type=\"double\" Def=\"100.0\"> </RatioStereoVertMax>\n",
"                            \n",
"                               <Teta2Min Nb=\"?\" Type=\"double\" Def=\"0.65\"> </Teta2Min>\n",
"                               <Teta2Max Nb=\"?\" Type=\"double\" Def=\"1.1\"> </Teta2Max>\n",
"                            \n",
"                               <NbMaxPresel Nb=\"?\" Type=\"int\" Def=\"10\"> </NbMaxPresel>\n",
"                               <NbTestPrecis Nb=\"?\" Type=\"int\" Def=\"10\"> </NbTestPrecis>\n",
"                               <!-- <NbSetPreSelAng Nb=\"?\" Type=\"int\" Def=\"5\"> </NbSetPreSelAng> -->\n",
"\n",
"                               <NbCellOccAng Nb=\"?\" Type=\"int\" Def=\"50\"> </NbCellOccAng>\n",
"                               <NbCaseIm Nb=\"?\" Type=\"int\" Def=\"10\"> </NbCaseIm>\n",
"                               <Masq3D Nb=\"?\" Type=\"std::string\"> </Masq3D>\n",
"                          </ChoixImSec>\n",
"                     </ChoixImMM>\n",
"\n",
"                     <ExportResiduXml Nb=\"?\" Type=\"std::string\"> </ExportResiduXml>\n",
"\n",
"                     <ExportSensibParamAero Nb=\"?\"> \n",
"                         <Dir Nb=\"1\"  Type=\"std::string\"> </Dir>\n",
"                     </ExportSensibParamAero>\n",
"\n",
"\n",
"		 </SectionExport>\n",
"\n",
"	    </EtapeCompensation>\n",
"	</SectionCompensation>\n",
"\n",
"   </ParamApero>\n",
"\n",
"\n",
"<!--\n",
"     TOL  :  Lorsque Tol<0, la contraintes est geree de maniere stricte, avec un systeme d'optim \n",
"     sous contrainte, cela suppose une resolution par matrice pleine. Sinon la contrainte\n",
"     est geree comme un poids qui augmentera jusqu'a ce qu'elle soit satisfaite a la tolerance (pas\n",
"     encore supporte !)\n",
"\n",
"     PIFRP : \n",
"-->\n",
"\n",
"<XmlSauvExportAperoOneIm Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <Name Nb=\"1\" Type=\"std::string\"> </Name>\n",
"     <Residual  Nb=\"1\" Type=\"double\"> </Residual>\n",
"     <PercOk Nb=\"1\" Type=\"double\"> </PercOk>\n",
"     <NbPts  Nb=\"1\" Type=\"int\">    </NbPts>\n",
"     <NbPtsMul  Nb=\"1\" Type=\"int\">    </NbPtsMul>\n",
"</XmlSauvExportAperoOneIm>\n",
"\n",
"<XmlSauvExportAperoOneAppuis  Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <Name Nb=\"1\" Type=\"std::string\"> </Name>\n",
"    <EcartFaiscTerrain Nb=\"?\" Type=\"Pt3dr\" > </EcartFaiscTerrain>\n",
"    <DistFaiscTerrain Nb=\"?\" Type=\"double\" > </DistFaiscTerrain>\n",
"    <EcartImMoy Nb=\"?\" Type=\"double\">        </EcartImMoy>\n",
"    <EcartImMax Nb=\"?\" Type=\"double\">        </EcartImMax>\n",
"    <NameImMax Nb=\"?\" Type=\"std::string\">         </NameImMax>\n",
"</XmlSauvExportAperoOneAppuis>\n",
"\n",
"<XmlSauvExportAperoOneMult  Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"     <Multiplicity Nb=\"1\" Type=\"int\"> </Multiplicity>\n",
"     <Residual  Nb=\"1\" Type=\"double\"> </Residual>\n",
"     <NbPts  Nb=\"1\" Type=\"int\">       </NbPts>\n",
"     <PercOk Nb=\"1\" Type=\"double\">    </PercOk>\n",
"</XmlSauvExportAperoOneMult>\n",
"\n",
"<XmlSauvExportAperoOneIter Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <OneAppui  Nb=\"*\" RefType=\"XmlSauvExportAperoOneAppuis\"> </OneAppui>\n",
"    <OneIm Nb=\"*\" RefType=\"XmlSauvExportAperoOneIm\"> </OneIm>\n",
"    <OneMult Nb=\"*\" RefType=\"XmlSauvExportAperoOneMult\"> </OneMult>\n",
"    <AverageResidual Nb=\"1\" Type=\"double\">  </AverageResidual>\n",
"    <NumIter Nb=\"1\" Type=\"int\"> </NumIter>\n",
"    <NumEtape Nb=\"1\" Type=\"int\"> </NumEtape>\n",
"    <EvolMax Nb=\"?\" Type=\"double\"> </EvolMax>\n",
"    <EvolMoy Nb=\"?\" Type=\"double\"> </EvolMoy>\n",
"\n",
"    <ImWorstRes Nb=\"?\" Type=\"std::string\"> </ImWorstRes>\n",
"    <WorstRes Nb=\"?\" Type=\"double\">   </WorstRes>\n",
"\n",
"</XmlSauvExportAperoOneIter>\n",
"\n",
"<XmlSauvExportAperoGlob Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"    <Iters Nb=\"*\" RefType=\"XmlSauvExportAperoOneIter\"> </Iters>\n",
"</XmlSauvExportAperoGlob>\n",
"\n",
"<XmlOneResultRTA Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"       <Mult Nb=\"1\" Type=\"double\">   </Mult>\n",
"       <MoyErr Nb=\"1\" Type=\"double\"> </MoyErr>\n",
"       <OneAppui  Nb=\"*\" RefType=\"XmlSauvExportAperoOneAppuis\"> </OneAppui>\n",
"</XmlOneResultRTA>\n",
"\n",
"<XmlResultRTA Nb=\"1\" Class=\"true\" ToReference=\"true\">\n",
"      <BestMult Nb=\"1\" Type=\"double\">         </BestMult>\n",
"      <BestMoyErr Nb=\"1\" Type=\"double\">       </BestMoyErr>\n",
"      <RTA Nb=\"*\"  RefType=\"XmlOneResultRTA\"> </RTA>\n",
"</XmlResultRTA>\n",
"\n",
"<XmlNameSensibs Nb=\"1\"   Class=\"true\" ToReference=\"true\">\n",
"    <SensibDateOneInc Nb=\"*\" Container=\"std::vector\">\n",
"         <NameBloc Nb=\"1\" Type=\"std::string\"> </NameBloc>\n",
"         <NameInc  Nb=\"1\" Type=\"std::string\"> </NameInc>\n",
"         <SensibParamDir  Nb=\"1\" Type=\"double\"> </SensibParamDir>\n",
"         <SensibParamInv  Nb=\"1\" Type=\"double\"> </SensibParamInv>\n",
"         <SensibParamVar  Nb=\"1\" Type=\"double\"> </SensibParamVar>\n",
"    </SensibDateOneInc>\n",
"</XmlNameSensibs>\n",
"\n",
"<XmlOneContourCamera Nb=\"1\"   Class=\"true\" ToReference=\"true\">\n",
"    <Pt Nb=\"*\" Type=\"Pt2dr\"  Container=\"std::vector\"> </Pt>\n",
"</XmlOneContourCamera>\n",
"\n",
"\n",
"<Verbatim File=\".h.cpp\">\n",
"// };\n",
"</Verbatim>\n",
"<Verbatim File=\".h\">\n",
"#endif // Define_NotApero\n",
"</Verbatim>\n",
"\n",
"\n",
"</GenCpp>\n",
"","//#_-=+{}@$##$##@"};

#include "StdAfx.h"
const char * (theNameVar_DefautChantierDescripteur[3231]) = {
"<!--\n",
"   Pour ne pas l'oublier : \n",
"      Un exemple avec utilisation des fonctionnalites arithmetique\n",
"                          <CalcName>  IR$%7+10+1.tif  </CalcName> \n",
"\n",
" ajoute 10 a $1 et l'ecrit sur 7 caracteres\n",
"\n",
"                 (.*)_(.)x[0-9]{3}_[0-9]{4,5}\n",
"\n",
"-->\n",
"\n",
"\n",
"<Global  Subst=\"@$#1\">\n",
"\n",
"  <NameDeclaration\n",
"       NameDecl=\"@$#1\"\n",
"\n",
"\n",
"       CannonPatternNumero=\"([0-9]{4})\"\n",
"\n",
"       NikonPatternNumero=\"([0-9]{4})\"\n",
"\n",
"\n",
"       TifPost=\"tif\"\n",
"\n",
"       XVertStd=\"0\"\n",
"       YVertStd=\"0\"\n",
"       ZVertStd=\"-1\"\n",
"       VerticaleStandard=\"${XVertStd} ${YVertStd} ${ZVertStd}\"\n",
"\n",
"       PNumCV2=\"[0-9]{2,3}_[0-9]{4,5}\"\n",
"       PostFixImPoly=\"($|\\.tif|_8Bits\\.tif)\"\n",
"       PostFix8BImPoly=\"_8Bits\\.tif\"\n",
"       EF=\" *-?[0-9]+\\\\.?[0-9]*\"\n",
"       EIU=\"[0-9]+\"\n",
"       EIS=\"-?${EIU}\"\n",
"       ID=\" *[0-9]*[a-z,A-Z][0-9,a-z,A-Z,_]*\"\n",
"  >\n",
"\n",
"  </NameDeclaration>\n",
"\n",
"<ChantierDescripteur>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>     Nuage-Ref-NH/Nuage-$1#1    </CalcName>\n",
"            </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Nuage-Ref-NH/Nuage-(.*)#1  </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"            </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-NHNuageRef </Key>\n",
"        <SubDirAutoMake> Nuage-Ref-NH/ </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)%(.*) </PatternTransform>\n",
"                <CalcName>    PC-Ref-NH/RefNH-$1---$2-#1.dmp     </CalcName>\n",
"                <Separateur > % </Separateur>\n",
"            </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> PC-Ref-NH/RefNH-(.*)---(.*)-#1.dmp  </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"                <CalcName>  $2  </CalcName>\n",
"            </Inverse>\n",
"        </Calcs>\n",
"        <SubDirAutoMake> PC-Ref-NH/ </SubDirAutoMake>\n",
"        <Key>   NKS-Assoc-NHPtRef </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur>  RefNH-(.*)---(.*)-#1.dmp  </PatternAccepteur>\n",
"		 <SubDir>   PC-Ref-NH/ </SubDir>\n",
"                 <NivSubDir> 1 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-NHPtRef  </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"<!--  ***********************************************************\n",
"*                                                               *\n",
"*       NEW and (hopefully) definitive systems of Keys  :       *\n",
"*                                                               *\n",
"*           - parametrized                                      *\n",
"*           - conserve the extension in created directories     *\n",
"*      NKS = NEW KEY STANDARD                                   *\n",
"*                                                               *\n",
"*                                                               *\n",
" *********************************************************** -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"             <IsParametrized>  true </IsParametrized>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> (.*) </PatternTransform>\n",
"                       <CalcName> DepX_Zoom#1.tif </CalcName>\n",
"                       <CalcName> DepY_Zoom#1.tif </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-NameMapsDeplacement </Key>\n",
"      </KeyedNamesAssociations>\n",
"\n",
"<!--   HOMOGRAPHY-COMPUTING\n",
"\n",
"    <Symb>  Tooooooo=XxX </Symb>\n",
"-->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)%(.*) </PatternTransform>\n",
"                <CalcName> RHH#1/$1/#2$2.#3  </CalcName>\n",
"                <Separateur > % </Separateur>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> RHH#1/(.*)/#2(.*)\\.#3 </PatternTransform>\n",
"                <CalcName> $1  </CalcName>\n",
"                <CalcName> $2  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  NKS-Assoc-RHH-CplIm2Data </Key>\n",
"	<SubDirAutoMake>  RHH#1</SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> #3/HomolH(.*)\\.(#2)  </PatternAccepteur>\n",
"		 <SubDir>   RHH#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-RHH-Homol </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--                MATIS                              -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-Matis/$1.ori.xml  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-MATIS-Assoc-Im2Orient </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--                SETS                               -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> #1  </PatternAccepteur>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-OfPattern </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"	  </Sets>\n",
"          <Key> NKS-Set-Empty </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> #1  </PatternAccepteur>\n",
"                 <PatternRefuteur> #2  </PatternRefuteur>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-PatRefut </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <NamesFileLON> #1  </NamesFileLON>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-OfFile </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> .*(Ch1|Ch1_16B|Ch3)\\.tif  </PatternAccepteur>\n",
"		 <SubDir>   Tmp-MM-Dir/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-TmpTifFile </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> Pastis(.*)/(.*)\\.(#2)  </PatternAccepteur>\n",
"		         <SubDir>   Homol#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	      </Sets>\n",
"          <Key> NKS-Set-Homol </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> PMul(.*)\\.(#2)  </PatternAccepteur>\n",
"		 <SubDir>   Homol#1/ </SubDir>\n",
"                 <NivSubDir> 1 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-PMulHom </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> Pastis#3/(.*)\\.(#2)  </PatternAccepteur>\n",
"		 <SubDir>   Homol#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-HomolOfOneImage </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets>\n",
"                 <PatternAccepteur> Pastis#3/(.*).(#2)  </PatternAccepteur>\n",
"                 <SubDir>   Homol#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"          </Sets>\n",
"          <Key> NKS-Set-Homol-Filtered </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"<!--\n",
"-->\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> Orientation-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori#1/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-Orient </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"     <KeyedSetsOfNames>\n",
"           <IsParametrized>  true </IsParametrized>\n",
"           <Sets>\n",
"                   <PatternAccepteur> Orientation-#2.xml  </PatternAccepteur>\n",
"                   <SubDir>   Ori#1/ </SubDir>\n",
"           </Sets>\n",
"           <Key> NKS-Set-Orient-Filtered </Key>\n",
"     </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets>\n",
"               <PatternAccepteur> #1  </PatternAccepteur>\n",
"               <Filter>\n",
"                     <FocMm> #2 #3 </FocMm>\n",
"               </Filter>\n",
"          </Sets>\n",
"          <Key> NKS-Set-OfPatternAndFoc </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets>\n",
"               <PatternAccepteur> #1  </PatternAccepteur>\n",
"               <Filter>\n",
"                     <Min> #2 </Min>\n",
"                     <Max> #3 </Max>\n",
"               </Filter>\n",
"          </Sets>\n",
"          <Key> NKS-Set-OfPatternAndInterv </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets>\n",
"               <PatternAccepteur> #1  </PatternAccepteur>\n",
"               <Filter>\n",
"                     <FocMm> #2 #3 </FocMm>\n",
"                     <Min> #4 </Min>\n",
"                     <Max> #5 </Max>\n",
"               </Filter>\n",
"          </Sets>\n",
"          <Key> NKS-Set-OfPatternAndFocAndInterv </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"           <IsParametrized>  true </IsParametrized>\n",
"           <Sets>\n",
"                     <PatternAccepteur> #1  </PatternAccepteur>\n",
"                     <Filter>\n",
"                         <KeyExistingFile>\n",
"                               <KeyAssoc>  NKS-Assoc-AddPostChExt@#2@tif  </KeyAssoc>\n",
"                               <!-- Si faux, on requier la non existance -->\n",
"                               <RequireExist> true </RequireExist>\n",
"                               <RequireForAll> true </RequireForAll>\n",
"                          </KeyExistingFile>\n",
"                     </Filter>\n",
"           </Sets>\n",
"           <Key>  NKS-Set-OfExistingPlan </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--                Calib Initiale                     -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  false </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-IsFishEye </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--                PDS CHANNEL                        -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  NONE </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-SFS </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <!-- Cas des images devant etre tournee au devlpt -->\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  0 </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-DevlptAutoRot </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)(\\.ply|_polyg3d\\.xml|_selectionInfo\\.xml) </PatternTransform>\n",
"                <CalcName>  $1_polyg3d.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  NONE </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-CorrecMasq3D </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  [1,1,1,1,1,1,1,1,1,1,1,1] </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Pds-Channel </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .*  </PatternTransform>\n",
"                <CalcName>  1.0  </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Pds-Channel_1 </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .*  </PatternTransform>\n",
"                <CalcName>  1.0  </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Pds-Channel_2 </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .*  </PatternTransform>\n",
"                <CalcName>  1.0  </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Pds-Channel_3 </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--                ASSOCS                             -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)_Tile_[0-9]+_[0-9]+.tif  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)  </PatternTransform>\n",
"                <CalcName>  NONE  </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"\n",
"        <Key>   NKS-Assoc-Tile2File </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"               <!--  ORIENTATIONS, HOMOLOGUES -->\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4})  </PatternTransform>\n",
"                <CalcName>  $1.xml  </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-SpecifRaw </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"               <!--  ORIENTATIONS, HOMOLOGUES -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/ImSec-$1.xml  </CalcName>\n",
"            </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori#1/ImSec-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"            </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-ImSec </Key>\n",
"        <SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/Pt3dIm-$1.dat  </CalcName>\n",
"            </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori#1/Pt3dIm-(.*).dat  </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"            </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Pts3dIm </Key>\n",
"        <SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"  \n",
"\n",
"\n",
"\n",
"  \n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                  <PatternTransform> Orientation-(.*).xml  </PatternTransform>\n",
"                   <CalcName>  $1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                  <PatternTransform> (.*)  </PatternTransform>\n",
"                   <CalcName>  $1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Ori2ImGen </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"    <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"             <Inverse>\n",
"                  <PatternTransform> Ori#1/Orientation-(.*).xml  </PatternTransform>\n",
"                   <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"\n",
"\n",
"        <Key>   NKS-Assoc-Im2Orient </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/UnCorMM-Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"             <Inverse>\n",
"                  <PatternTransform> Ori#1/UnCorMM-Orientation-(.*).xml  </PatternTransform>\n",
"                   <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"\n",
"\n",
"        <Key>   NKS-Assoc-Im2UnCorMMOrient </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/GB-Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"             <Inverse>\n",
"                  <PatternTransform> Ori#1/GB-Orientation-(.*).xml  </PatternTransform>\n",
"                   <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"\n",
"\n",
"        <Key>   NKS-Assoc-Im2GBOrient </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"    <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/UnCorExtern-Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"             <Inverse>\n",
"                  <PatternTransform> Ori#1/UnCorExtern-Orientation-(.*).xml  </PatternTransform>\n",
"                   <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"\n",
"\n",
"        <Key>   NKS-Assoc-Im2UnCorExternOrient </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <!-- C'est quasiment la meme qie NKS-Assoc-Im2Orient,  mais pas SubDirAutoMake\n",
"        pas tres elegant comme duplication, mais bon ....  -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  #1$1/#2$1.#3  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform>#1(.*)/#2(.*).#3  </PatternTransform>\n",
"                <CalcName>  $2  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Im2NuageInit </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <!-- C'est quasiment la meme qie NKS-Assoc-Im2Orient,  mais pas SubDirAutoMake\n",
"        pas tres elegant comme duplication, mais bon ....  -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Ori#1/Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori#1/Orientation-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-SauvAutom-Assoc-Im2Orient </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"            <!-- Bcp + rare, si on dois changer l'extension -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.#2 </PatternTransform>\n",
"                <CalcName>  Ori#1/Orientation-$1.#3.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori#1/Orientation-(.*)\\.#3\\.xml  </PatternTransform>\n",
"                <CalcName>  $1.#2  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Im2OrientChangExt </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)%(.*) </PatternTransform>\n",
"                <CalcName> Homol#1/Pastis$1/$2.#2  </CalcName>\n",
"                <Separateur > % </Separateur>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol#1/Pastis(.*)/(.*)\\.#2 </PatternTransform>\n",
"                <CalcName> $1  </CalcName>\n",
"                <CalcName> $2  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  NKS-Assoc-CplIm2Hom </Key>\n",
"	<SubDirAutoMake> Homol#1 </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName> Homol#1/PMul$1.#2  </CalcName>\n",
"                <Separateur > % </Separateur>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>  NKS-Assoc-PMulHom </Key>\n",
"	<SubDirAutoMake> Homol#1 </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"<!--\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)%(.*) </PatternTransform>\n",
"                <CalcName> Ori2Im#1/DirIm_$1/$2.#2  </CalcName>\n",
"                <Separateur > % </Separateur>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform>  Ori2Im#1/DirIm_(.*)/(.*).#2 </PatternTransform>\n",
"                <CalcName> $1  </CalcName>\n",
"                <CalcName> $2  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  NKS-Assoc-CplIm2OriRel </Key>\n",
"	<SubDirAutoMake> Ori2Im#1 </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> DirIm_(.*)/(.*)\\.(#2)  </PatternAccepteur>\n",
"		 <SubDir>   Ori2Im#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-CplIm2OriRel </Key>\n",
"    </KeyedSetsOfNames>\n",
"-->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)%(.*) </PatternTransform>\n",
"                <CalcName> NewOriTmp#1/$1/OriRel-$2.#2  </CalcName>\n",
"                <Separateur > % </Separateur>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform>  NewOriTmp#1/(.*)/OriRel-(.*).#2 </PatternTransform>\n",
"                <CalcName> $1  </CalcName>\n",
"                <CalcName> $2  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  NKS-Assoc-NewOri-CplIm2OriRel </Key>\n",
"<!--\n",
"	<SubDirAutoMake> Ori2Im#1 </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"-->\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> (.*)/OriRel-(.*)\\.(#2)  </PatternAccepteur>\n",
"		 <SubDir>   NewOriTmp#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> NKS-Set-NewOri-CplIm2OriRel </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"               <!--  Gestion des nom lies aux focales -->\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>   </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-StdIdCam </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>   </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-StdIdAdditionnelCam </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .*%([-,0-9,a-z,A-Z,_=:\\-\\.]+) </PatternTransform>\n",
"                <CalcName>  #1$1#2  </CalcName>\n",
"                <NameTransfo>\n",
"                    <!-- Old Version -->\n",
"                        <AddFocMul> 10 </AddFocMul>\n",
"                    <!-- New Version -->\n",
"                        <NewAddNameCam>  true </NewAddNameCam>   <!--   true si V>=1 -->\n",
"                        <NewFocMul  >  1000 </NewFocMul>        <!--  1000 si >=1, 1 sinon -->\n",
"                        <NewKeyId>   NKS-Assoc-StdIdCam </NewKeyId>\n",
"                        <NewKeyIdAdd> NKS-Assoc-StdIdAdditionnelCam </NewKeyIdAdd>\n",
"\n",
"                 </NameTransfo>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-FromFocMm </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> TheKeyCalib_(.*) </PatternTransform>\n",
"                <CalcName>  #1$1#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .*_([0-9]+) </PatternTransform>\n",
"                <CalcName>  #1$1#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  #1-$0#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-FromKeyCal </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"                 <!--     *   *   *   *   *   *   *   *   *    -->\n",
"                 <!--    AJOUT DE POST ET PREFIX, MODIF EXT ... -->\n",
"                 <!--     *   *   *   *   *   *   *   *   *    -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> $0 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-Id </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-Empty </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  #1  </CalcName>\n",
"             </Direct>\n",
"             <Inverse>\n",
"                <PatternTransform> #1 </PatternTransform>\n",
"                <CalcName>  Cste-Is-Not-Invertible  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Cste </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-Prefix </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1#1.$2  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> (.*)#1\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1.$2  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-AddPost </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1#1.tif </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-AddPost-tifExt </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1#1.#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-AddPostChExt </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> #1(.*)\\.#2 </PatternTransform>\n",
"                <CalcName>  #3$1.#4  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> #3(.*)\\.#4 </PatternTransform>\n",
"                <CalcName>  #1$1.#2  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-ChangPrefixAndExt </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  #1$1.#2  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> #1(.*)#2 </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-AddPrePost </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <!-- Pour les image de pyramide MicMac -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  #1/$1DeZoom#2.tif  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> #1/(.*)DeZoom#2.tif </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-PyramMM </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([0-9,A-Z,a-z]{2,4}) </PatternTransform>\n",
"                <CalcName>  #1/#2$1.tif  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  #1/#2$1.tif  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-AddDirAndPref </Key>\n",
"        <SubDirAutoMake> #1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([0-9,A-Z,a-z]{2,4}) </PatternTransform>\n",
"                <CalcName>  #1$1#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  #1$1#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Assoc-AddDirAndPost </Key>\n",
"        <SubDirAutoMake> #1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"        <!--  Gestion des focales a l'ancienne, pour chantier existant, \n",
"              focale pas dans xif et erreur de xif ;\n",
"              Peut etre redefinie dans le MicMacLoc ... si necessaire\n",
"         -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> F([0-9]+)_.*  </PatternTransform>\n",
"                       <CalcName> $1 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> 0 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-STD-FOC </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> NO-CAM </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-STD-CAM </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> NO-SZ </CalcName>\n",
"                       <CalcName> NO-SZ </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-STD-SZ </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <!-- Pour le devlopt en 8 Bits :  Gama > 0 donne un gama, Gama < 0 Gama * dyn log  -->\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> 1.0 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-STD-Gama8Bits </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> 1.0 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-STD-EpsLog8Bits </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"                  <!---    SPECIAL RESULTAT MICMAC -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> (.*).tif </PatternTransform>\n",
"                       <CalcName> $1.xml </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-MM-Prof2MetaData </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> (.*)/Z_Num([0-9]+)_DeZoom([0-9]+)_(.*).tif </PatternTransform>\n",
"                       <CalcName> $1/AutoMask_$4_Num_$2.tif </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-MM-Prof2AutoMask </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> (.*)/Z_Num([0-9]+)_DeZoom([0-9]+)_(.*).tif </PatternTransform>\n",
"                       <CalcName> $1/Correl_$4_Num_$2.tif </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Assoc-MM-Prof2Correl </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform>(.*[^0-9])([0-9]{#1,})([^0-9].*) </PatternTransform>\n",
"                       <CalcName> $1 </CalcName>\n",
"                       <CalcName> $2 </CalcName>\n",
"                       <CalcName> $3 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   NKS-Extract-Single-Num </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--    ANCIEN ENCORE UTILISES   ?????                 -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"<!--\n",
"-->\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName> Homol/Hom_$1-$2.xml  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol/Hom_(.*)-(.*)\\.xml </PatternTransform>\n",
"                <CalcName> $1  </CalcName>\n",
"                <CalcName> $2  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-StdHom </Key>\n",
"	<SubDirAutoMake> Homol </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"        <!-- ***********************************************   -->\n",
"        <!--                                                   -->\n",
"        <!--                RELATIONS                          -->\n",
"        <!--                                                   -->\n",
"        <!-- ***********************************************   -->\n",
"\n",
"    <KeyedSetsORels>\n",
"       <IsParametrized>  true </IsParametrized>\n",
"       <Sets >\n",
"            <ByAdjacence>\n",
"                <KeySets>  #1   </KeySets>\n",
"                <DeltaMax > 10000  </DeltaMax>\n",
"                <DeltaMin > -10000 </DeltaMin>\n",
"                <Circ>       false  </Circ>\n",
"\n",
"                <Filtre>\n",
"                     <FiltreByRelSsEch>\n",
"                        <KeySet >  NKS-Set-Homol@_SRes@dat         </KeySet>\n",
"                        <KeyAssocCple>  NKS-Assoc-CplIm2Hom@_SRes@dat   </KeyAssocCple>\n",
"                        <SeuilBasNbPts>  #2  </SeuilBasNbPts>\n",
"                        <SeuilHautNbPts> #2 </SeuilHautNbPts>\n",
"                        <NbMinCple> 100000 </NbMinCple>\n",
"                     </FiltreByRelSsEch>\n",
"                </Filtre>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > NKS-Rel-SsECh </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <DeltaMin > -10000 </DeltaMin>\n",
"                     <DeltaMax > 10000  </DeltaMax>\n",
"                     <Circ>       false  </Circ>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > NKS-Rel-AllCpleOfPattern </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <KeySets>  #2   </KeySets>\n",
"                     <DeltaMin > -10000 </DeltaMin>\n",
"                     <DeltaMax > 10000  </DeltaMax>\n",
"                     <Circ>       false  </Circ>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > NKS-Rel-AllCpleOf2Pat </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <DeltaMin >  -#2 </DeltaMin>\n",
"                     <DeltaMax >  #2  </DeltaMax>\n",
"                     <Circ>       false  </Circ>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > NKS-Rel-ChantierLineaire </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <DeltaMin >  -#2 </DeltaMin>\n",
"                     <DeltaMax >  #2  </DeltaMax>\n",
"                     <Circ>       true </Circ>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > NKS-Rel-ChantierCirculaire </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <NameFileIn> #1 </NameFileIn>\n",
"            </Sets>\n",
"            <Key  > NKS-Rel-ByFile </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <!-- NKS-Rel-LinGen@Pat@Resol@@Sample1@Sample2 -->\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <DeltaMin >  -#2 </DeltaMin>\n",
"                     <DeltaMax >  #2  </DeltaMax>\n",
"                     <Circ>       #3  </Circ>\n",
"                 </ByAdjacence>\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <DeltaMin >  -#2 </DeltaMin>\n",
"                     <DeltaMax >  #2  </DeltaMax>\n",
"                     <Circ>       #3  </Circ>\n",
"                     <Sampling> #4  </Sampling>\n",
"                 </ByAdjacence>\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  #1   </KeySets>\n",
"                     <DeltaMin >  -#2 </DeltaMin>\n",
"                     <DeltaMax >  #2  </DeltaMax>\n",
"                     <Circ>       #3  </Circ>\n",
"                     <Sampling> #5  </Sampling>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > NKS-Rel-LinSampled </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"\n",
"\n",
"<!-- ***********************************************************\n",
"*                                                              *\n",
"*                          CAMERA NUMERIQUE                    *\n",
"*                                                              *\n",
" *********************************************************** -->\n",
"\n",
"     <!--    *********************************************************\n",
"             CAM V2\n",
"        ********************************************************* -->\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    .*_.x(${PNumCV2})${PostFixImPoly}  </PatternTransform> \n",
"                <CalcName>  $1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Cv2-IdIm   </Key>\n",
"  </KeyedNamesAssociations>\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    .*_(.)x${PNumCV2}${PostFixImPoly} </PatternTransform>\n",
"                <CalcName>  $1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Cv2-Chanel   </Key>\n",
"  </KeyedNamesAssociations>\n",
"                                               \n",
"\n",
"\n",
"     <!--    *********************************************************\n",
"             Etalonnage sur  Polyone\n",
"        ********************************************************* -->\n",
"\n",
"  <KeyedSetsOfNames>\n",
"          <Sets>\n",
"                 <PatternAccepteur>    Orient_.*\\.xml    </PatternAccepteur>\n",
"                 <SubDir>     Orient_Polyg/  </SubDir>\n",
"          </Sets>\n",
"          <Key> Key-Set-AppuiOri-Polygone-CamV2 </Key>\n",
"  </KeyedSetsOfNames>\n",
"\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*)_(.)x(${PNumCV2})${PostFixImPoly}     </PatternTransform>\n",
"                <CalcName>  Orient_Polyg/Orient_$1_$2x$3.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient_Polyg/Orient_(.*)_(.)x(${PNumCV2})\\.xml  </PatternTransform>\n",
"                <CalcName>  $1_$2x$3_8Bits.tif     </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2AppuiOri-Polygone_8Bits </Key>\n",
"        <SubDirAutoMake>  Orient_Polyg </SubDirAutoMake>\n",
"  </KeyedNamesAssociations>\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*)     </PatternTransform>\n",
"                <CalcName>  Orient_Polyg/Orient_$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient_Polyg/Orient_(.*)\\.xml  </PatternTransform>\n",
"                <CalcName>  $1    </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2AppuiOri-Polygone-CamV2 </Key>\n",
"        <SubDirAutoMake>  Orient_Polyg </SubDirAutoMake>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"  <KeyedSetsOfNames>\n",
"          <Sets>\n",
"                 <PatternAccepteur>    Orient.*\\.xml    </PatternAccepteur>\n",
"                 <SubDir>     Orient_Polyg/  </SubDir>\n",
"          </Sets>\n",
"          <Key> Key-Set-AppuiOri-Polygone-Basic </Key>\n",
"  </KeyedSetsOfNames>\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*)     </PatternTransform>\n",
"                <CalcName>  Orient_Polyg/Orient$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient_Polyg/Orient(.*)\\.xml  </PatternTransform>\n",
"                <CalcName>  $1     </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2AppuiOri-Polygone-Basic </Key>\n",
"        <SubDirAutoMake>  Orient_Polyg </SubDirAutoMake>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"  <KeyedSetsOfNames>\n",
"          <Sets>\n",
"                 <PatternAccepteur>    Appuis.*\\.xml    </PatternAccepteur>\n",
"                 <SubDir>     Appuis-Init/  </SubDir>\n",
"          </Sets>\n",
"          <Key> Key-Set-Appui-Init-Etalonage </Key>\n",
"  </KeyedSetsOfNames>\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*)     </PatternTransform>\n",
"                <CalcName>  Appuis-Init/Appuis_$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Appuis-Init/Appuis_(.*)\\.xml  </PatternTransform>\n",
"                <CalcName>  $1     </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Appui-Init-Etalonage </Key>\n",
"        <SubDirAutoMake>  Appuis-Init </SubDirAutoMake>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"  <KeyedSetsOfNames>\n",
"          <Sets>\n",
"                 <PatternAccepteur>    Appuis_.*\\.xml    </PatternAccepteur>\n",
"                 <SubDir>     Appuis/  </SubDir>\n",
"          </Sets>\n",
"          <Key> Key-Set-Std-Appuis </Key>\n",
"  </KeyedSetsOfNames>\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*)\\.tif     </PatternTransform>\n",
"                <CalcName>  Appuis/Appuis_$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Appuis/Appuis_(.*)\\.xml  </PatternTransform>\n",
"                <CalcName>  $1.tif     </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Std-Im2Appuis </Key>\n",
"        <SubDirAutoMake>  Appuis </SubDirAutoMake>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"\n",
"                                               \n",
"     <!--    *********************************************************\n",
"             CORRESPONDANCE CANAUX A CANAUX\n",
"        ********************************************************* -->\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*_).(x${PNumCV2}${PostFixImPoly})     </PatternTransform>\n",
"                <CalcName>  $1r$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Cv2-ToImR </Key>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*_).(x${PNumCV2}${PostFixImPoly})     </PatternTransform>\n",
"                <CalcName>  $1b$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Cv2-ToImB </Key>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*_).(x${PNumCV2}${PostFixImPoly})     </PatternTransform>\n",
"                <CalcName>  $1v$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Cv2-ToImV </Key>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>    (.*_).(x${PNumCV2}${PostFixImPoly})     </PatternTransform>\n",
"                <CalcName>  $1RVBx$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Cv2-ToImRVB </Key>\n",
"  </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"<!--    *********************************************************\n",
"                       MARC (registration)\n",
"   ********************************************************* -->\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Homol/Marc_Homol_$1-$2.xml  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol/Marc_Homol_(.*)-(.*)\\.xml </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  MarcIm2Hom </Key>\n",
"	<SubDirAutoMake> Homol </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"     <!-- Pastis Set -->\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur>  Marc_Homol.*\\.xml  </PatternAccepteur>\n",
"		 <SubDir>   Homol/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> All-MarcHom </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"<!--    *********************************************************\n",
"\n",
"                       PASTIS\n",
"\n",
"   ********************************************************* -->\n",
"\n",
"     <!-- Association Pastis -->\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*) </PatternTransform>\n",
"                <CalcName>  Pastis/AP-$1_KeySift_$2.xml  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> eModeAutoPano-Pastis-PtInt </Key>\n",
"	<SubDirAutoMake> Pastis </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName>  Pastis/LBPp$1.dat  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> eModeLeBrisPP-Pastis-PtInt </Key>\n",
"	<SubDirAutoMake> Pastis </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  3 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost}@(.*) </PatternTransform>\n",
"                <CalcName>  Pastis/AP-Match-$1-$2-$3.txt </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> eModeAutoPano-Pastis-Hom-Txt </Key>\n",
"	<SubDirAutoMake> Pastis </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.dat@(.*)\\.dat </PatternTransform>\n",
"                <CalcName>  Pastis/LBPp-Match-$1/$2.result </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> eModeLeBrisPP-Pastis-Hom-Txt </Key>\n",
"	<SubDirAutoMake> Pastis </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Homol/Pastis$1-$2.xml  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol/Pastis(.*)-(.*)\\.xml </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  PastisHom </Key>\n",
"	<SubDirAutoMake> Homol </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Homol/Pastis$1/$2.dat  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol/Pastis(.*)/(.*)\\.dat </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-CpleIm2HomolPastisBin </Key>\n",
"	<SubDirAutoMake> Homol </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Homol_SRes/Pastis$1/$2.dat  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol_SRes/Pastis(.*)/(.*)\\.dat </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-SsRes-CpleIm2HomolPastisBin </Key>\n",
"	<SubDirAutoMake> Homol_SRes </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"     <!-- Pastis Set -->\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> Pastis(.*)-(.*)\\.(xml)  </PatternAccepteur>\n",
"		 <SubDir>   Homol/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> All-PastisHom </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> Pastis(.*)/(.*)\\.(dat)  </PatternAccepteur>\n",
"		 <SubDir>   Homol/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-HomolPastisBin </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> Pastis(.*)/(.*)\\.(dat)  </PatternAccepteur>\n",
"		 <SubDir>   Homol_SRes/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-SsRes-HomolPastisBin </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"<!--    *********************************************************\n",
"\n",
"                       PORTO \n",
"\n",
"   ********************************************************* -->\n",
"\n",
"     <!-- Pastis Set -->\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> MicMac-PL3-(.*)-(.*).${TifPost}  </PatternAccepteur>\n",
"		 <SubDir>   Sauv-Micmac-LIAISON/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> All-PortoHom </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Sauv-Micmac-LIAISON/MicMac-PL3-$1-$2.${TifPost}  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Sauv-Micmac-LIAISON/MicMac-PL3-(.*)-(.*).${TifPost} </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  PortoHom </Key>\n",
"	<SubDirAutoMake> Sauv-Micmac-LIAISON </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName> make bin/Filter; bin/Filter $1 \"Harris 1.5 2 Moy 1 3\" Out=$2 </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>  PortoCalcInteret </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"     \n",
"\n",
"\n",
"<!--    *********************************************************\n",
"\n",
"       AERO \n",
"\n",
"   ********************************************************* -->\n",
"\n",
"    <!--   Orientations -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"\n",
"        <!-- Calib MPD -->\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> F([0-9]{3})_.* </PatternTransform>\n",
"                <CalcName>  TheKeyCalib_$1  </CalcName>\n",
"             </Direct>\n",
"\n",
"        </Calcs>\n",
"\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                <PatternTransform> (Droite|Gauche).*  </PatternTransform>\n",
"                <CalcName>  TheKeyCalib_$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <!-- Calib LOEMI -->\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                <PatternTransform> .*_(.)x${PNumCV2}${PostFixImPoly}  </PatternTransform>\n",
"                <CalcName>  TheKeyCalib_$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"\n",
"\n",
"        <Key>   Key-Assoc-CalculKeyCalib </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"     <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> F([0-9]{3})_.*.(tif|TIF) </PatternTransform>\n",
"                <CalcName>  AutoCalDRad-Canon-$1.xml </CalcName>\n",
"             </Direct>\n",
"\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-CalibOfIm </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"     <KeyedNamesAssociations>\n",
"        <!-- Defaut, aucune calib (pout pastis) -->\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  NoCalib </CalcName>\n",
"             </Direct>\n",
"\n",
"        </Calcs>\n",
"\n",
"        <Key>   Key-Assoc-NoCalib </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"     <KeyedNamesAssociations>\n",
"        <!-- Defaut, aucune calib (pout pastis) -->\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform>  F([0-9]{3}).* </PatternTransform>\n",
"                <CalcName>  Bayer-Canon-$1.xml </CalcName>\n",
"             </Direct>\n",
"\n",
"        </Calcs>\n",
"\n",
"        <Key>   Key-Assoc-Calib-Coul </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> F([0-9]{3})_.*  </PatternTransform>\n",
"                 <CalcName>  Ori-F/F$1_AutoCalFinale.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2AutoCalFinale </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> F([0-9]{3})_.*  </PatternTransform>\n",
"                 <CalcName>  Ori-F-2/F$1_AutoCalFinale2.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2AutoCalFinale2 </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"         <Calcs>\n",
"             <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                  <PatternTransform> TheKeyCalib_([0-9]{3})  </PatternTransform>\n",
"                  <CalcName>  Ori-F-2/F$1_AutoCalFinale2.xml </CalcName>\n",
"              </Direct>\n",
"          </Calcs>\n",
"          <Key>   Key-Assoc-CleCal2AutoCalFinale2 </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"         <Calcs>\n",
"             <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                  <PatternTransform> TheKeyCalib_([0-9]{3})  </PatternTransform>\n",
"                  <CalcName>  Ori-F/F$1_AutoCalFinale.xml </CalcName>\n",
"              </Direct>\n",
"          </Calcs>\n",
"          <Key>   Key-Assoc-CleCal2AutoCalFinale </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> F([0-9]{3})_.*  </PatternTransform>\n",
"                 <CalcName>  Orient/F$1_AutoCalInit.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2AutoCalInit </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"         <Calcs>\n",
"             <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                  <PatternTransform> TheKeyCalib_([0-9]{3})  </PatternTransform>\n",
"                  <CalcName>  Orient/F$1_AutoCalInit.xml </CalcName>\n",
"              </Direct>\n",
"          </Calcs>\n",
"          <Key>   Key-Assoc-CleCal2AutoCalInit </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> F([0-9]{3})_.*  </PatternTransform>\n",
"                 <CalcName>  Orient/F$1_GridFinale.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2GridFinale </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"         <Calcs>\n",
"             <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                  <PatternTransform> TheKeyCalib_([0-9]{3})  </PatternTransform>\n",
"                  <CalcName>  Orient/F$1_GridFinale.xml </CalcName>\n",
"              </Direct>\n",
"          </Calcs>\n",
"          <Key>   Key-Assoc-CleCal2GridFinale </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Orient/OrPrenInit0-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient/OrPrenInit0-(.*).xml </PatternTransform>\n",
"                <CalcName>  $1.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   OrPreInit0 </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> <PatternAccepteur> Orient(.*).xml  </PatternAccepteur> </Sets>\n",
"          <Key> OrientEtalPoly </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrPrenInit0-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Orient/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> All-OrPreInit0 </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.[0-9,A-Z,a-z]{2,4} </PatternTransform>\n",
"                <CalcName>  Or-Nav/OrNav-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Or-Nav/OrNav-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrNav </Key>\n",
"	<SubDirAutoMake> Or-Nav </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)_MpDcraw8B_GR.tif  </PatternTransform>\n",
"                <CalcName>  Or-Nav/OrNav-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Or-Nav/OrNav-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1_MpDcraw8B_GR.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrNav_MpDcraw8B_GR </Key>\n",
"	<SubDirAutoMake> Or-Nav </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur>  OrNav-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Or-Nav/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-Or-Nav </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Orient/OrInit-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient/OrInit-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrInit </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)MpDcraw16B_(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Orient/OrInit-$1MpDcraw8B_$2.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient/OrInit-(.*)MpDcraw8B_(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1MpDcraw16B_$2.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im16B2OrInit8B </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)MpDcraw16B_(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Ori-F/OrFinale-$1MpDcraw8B_$2.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F/OrFinale-(.*)MpDcraw8B_(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1MpDcraw16B_$2.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im16B2OrFinale8B </Key>\n",
"	<SubDirAutoMake> Ori-F </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)16B(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Orient/OrInit-$18B$2.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient/OrInit-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-16B-Im2Or8BInit </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)16B(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Ori-F/OrFinale-$18B$2.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F/OrFinale-(.*)8B(.*).xml  </PatternTransform>\n",
"                <CalcName>  $116B$2.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-16B-Im2Or8BFinale </Key>\n",
"	<SubDirAutoMake> Ori-F </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)16B(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Ori-F-2/OrFinale-$18B$2.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F-2/OrFinale-(.*)8B(.*).xml  </PatternTransform>\n",
"                <CalcName>  $116B$2.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-16B-Im2Or8BFinale-2 </Key>\n",
"	<SubDirAutoMake> Ori-F-2 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  $1.ori  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Tif2Orilib  </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-F/OrFinale-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F/OrFinale-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrFinale </Key>\n",
"	<SubDirAutoMake> Ori-F </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-F-2/OrFinale-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F-2/OrFinale-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrFinale-2 </Key>\n",
"	<SubDirAutoMake> Ori-F-2 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-F-3/OrFinale-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F-3/OrFinale-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrFinale-3 </Key>\n",
"	<SubDirAutoMake> Ori-F-3 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-F-4/OrFinale-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F-4/OrFinale-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrFinale-4 </Key>\n",
"	<SubDirAutoMake> Ori-F-4 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-F-5/OrFinale-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F-5/OrFinale-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrFinale-5 </Key>\n",
"	<SubDirAutoMake> Ori-F-5 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori-F-6/OrFinale-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori-F-6/OrFinale-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Im2OrFinale-6 </Key>\n",
"	<SubDirAutoMake> Ori-F-6 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrFinale-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori-F/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-OrFinale </Key>\n",
"    </KeyedSetsOfNames>\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrFinale-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori-F-2/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-OrFinale-2 </Key>\n",
"    </KeyedSetsOfNames>\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrFinale-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori-F-3/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-OrFinale-3 </Key>\n",
"    </KeyedSetsOfNames>\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrFinale-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori-F-4/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-OrFinale-4 </Key>\n",
"    </KeyedSetsOfNames>\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrFinale-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori-F-5/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-OrFinale-5 </Key>\n",
"    </KeyedSetsOfNames>\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrFinale-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori-F-6/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-OrFinale-6 </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Orient/Or-FromPorto-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Orient/Or-FromPorto-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   Orient-From-Porto </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> OrInit-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Orient/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-All-OrInit </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName>  Orient/OrMM3-$1.xml  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   OrMM3 </Key>\n",
"	<SubDirAutoMake> Orient </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName>  $1DeZoom$2.tif </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Pyram-MM </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"<!--    *********************************************************\n",
"   ********************************************************* -->\n",
"\n",
"    <!--                          \n",
"    <KeyedNamesAssociations>\n",
"         <Calcs> \n",
"	     <Arrite>  2 1 </Arrite>\n",
"	     <Direct>\n",
"	           <PatternTransform> (.*)\\.(...)@(.*)\\.(...) </PatternTransform>\n",
"		   <Separateur> @ </Separateur>\n",
"		    <CalcName>  HomManuels$1_#_$3.xml  </CalcName>\n",
"	     </Direct>\n",
"	     <Inverse>\n",
"	           <PatternTransform> HomManuels(.*)_#_(.*).xml  </PatternTransform>\n",
"		   <CalcName>  $1.${TifPost}  </CalcName>\n",
"		   <CalcName>  $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"	 </Calcs>\n",
"         <Key> HomManuels </Key>\n",
"    </KeyedNamesAssociations>\n",
"  -->\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> (.*)\\.${TifPost}  </PatternAccepteur>\n",
"	  </Sets>\n",
"          <Key> Key-Set-All-Tif </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"       <Calcs>\n",
"          <Arrite>  1 1 </Arrite>\n",
"          <Direct>\n",
"              <PatternTransform> (.*)\\.${TifPost} </PatternTransform>\n",
"              <CalcName>  MpDcraw16B_$1_GB.${TifPost} </CalcName>\n",
"          </Direct>\n",
"       </Calcs>\n",
"       <Key>  Im2MpDCraw-GB </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"       <Calcs>\n",
"          <Arrite>  2 1 </Arrite>\n",
"          <Direct>\n",
"              <PatternTransform> (.*)\\.${TifPost}@(.) </PatternTransform>\n",
"              <CalcName>  MpDcraw16B_$1_$2.${TifPost} </CalcName>\n",
"          </Direct>\n",
"          <Inverse>\n",
"              <PatternTransform> MpDcraw16B_(.*)_(.)\\.${TifPost} </PatternTransform>\n",
"              <CalcName>  $1.${TifPost} </CalcName>\n",
"              <CalcName>  $2 </CalcName>\n",
"          </Inverse>\n",
"       </Calcs>\n",
"       <Key>  ImChan2SplitMpDCraw </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName> SWAP_HOM/Hom_$2-$1.xml  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> SWAP_HOM/Hom_(.*)-(.*)\\.xml </PatternTransform>\n",
"                <CalcName> $2  </CalcName>\n",
"                <CalcName> $1  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-StdHom-Inverse </Key>\n",
"	<SubDirAutoMake> SWAP_HOM </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> Hom(.*)-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Homol/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-StdHom </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> Hom(.*)-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   SWAP_HOM/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-StdHom-Inverse </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"\n",
"    <KeyedSetsORels>\n",
"       <Sets > \n",
"            <ByAdjacence>\n",
"	        <KeySets>  Key-Set-All-Tif   </KeySets>\n",
"		<DeltaMax > 1000  </DeltaMax>\n",
"		<DeltaMin > -1000 </DeltaMin>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > Key-Rel-All-Cple-Tif </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"       <Sets > \n",
"            <ByAdjacence>\n",
"	        <KeySets>  Key-Set-All-Tif   </KeySets>\n",
"		<DeltaMax > 1000  </DeltaMax>\n",
"		<DeltaMin > 0 </DeltaMin>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > AllCpleTif-Or </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"\n",
"    <KeyedSetsORels>\n",
"       <Sets > \n",
"            <ByAdjacence>\n",
"	        <KeySets>  Key-Set-All-Tif   </KeySets>\n",
"		<DeltaMax > 3  </DeltaMax>\n",
"		<DeltaMin > 0 </DeltaMin>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > CpleTif-Or-Adj3 </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"       <Sets > \n",
"            <ByAdjacence>\n",
"	        <KeySets>  Key-Set-All-Tif   </KeySets>\n",
"		<DeltaMax > 2  </DeltaMax>\n",
"		<DeltaMin > -2 </DeltaMin>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > CpleTif-Sym-Adj2 </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"       <Sets > \n",
"            <ByAdjacence>\n",
"	        <KeySets>  Key-Set-All-Tif   </KeySets>\n",
"		<DeltaMax > 1  </DeltaMax>\n",
"		<DeltaMin > -1 </DeltaMin>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > CpleTif-Sym-Adj1 </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"\n",
"<!--\n",
"      Debayerisation\n",
"-->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 2 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.(.*) </PatternTransform>\n",
"                <CalcName> XProj-$1.${TifPost}  </CalcName>\n",
"                <CalcName> YProj-$1.${TifPost}  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>  Im2Proj </Key>\n",
"	<SubDirAutoMake> Homol </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"<!--\n",
"      Nuages de points\n",
"-->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName>  NuageImProf_$1_Etape_$2.xml  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> Key-Assoc-Nuage-ImProf </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)@(.*) </PatternTransform>\n",
"                <CalcName>  MicMac_$1_Resol$2.ply  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> Key-Assoc-Nuage-Ply </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"<!--\n",
"      Masq-Image\n",
"    + _Masq\n",
"-->\n",
"\n",
"    <!-- Implicitement Masque 0 -->\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.[a-z,A-Z,0-9]{3,4} </PatternTransform>\n",
"                <CalcName>  $1_Masq.tif  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> Key-Assoc-Std-Masq-Image </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif@(.*) </PatternTransform>\n",
"                <CalcName>  $1_Masq$2.tif  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key> Key-Assoc-Std-MultiMasq-Image </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"<!--\n",
"     \n",
"     CARTES PROFS 2 LIAISON-APPUIS\n",
"-->\n",
"    \n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Carte2ApL/AppuisWithOr_$1_On_$2.xml  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-Carte2Appuis-With-Origine </Key>\n",
"	<SubDirAutoMake> Carte2ApL </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Carte2ApL/Appuis_$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Carte2ApL/Appuis_(.*).xml </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-Carte2Appuis </Key>\n",
"	<SubDirAutoMake> Carte2ApL </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> Appuis_.*\\.xml  </PatternAccepteur>\n",
"		 <SubDir>   Carte2ApL/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-All-Appuis-Cartes </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Carte2ApL/HomApL$1/$2.dat  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Carte2ApL/HomApL(.*)/(.*)\\.dat </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  Key-Assoc-CpleIm2HomolCarte </Key>\n",
"	<SubDirAutoMake> Carte2ApL </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <Sets> \n",
"                 <PatternAccepteur> HomApL(.*)/(.*)\\.(dat)  </PatternAccepteur>\n",
"		 <SubDir>   Carte2ApL/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> Key-Set-HomolCarte </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    \n",
"<!--\n",
"     ORTHO ORTHO ORTHO ORTHO \n",
"     ORTHO ORTHO ORTHO ORTHO \n",
"     ORTHO ORTHO ORTHO ORTHO \n",
"-->\n",
"\n",
"    <!--  1 - Cle pour la generation des ortho par images -->\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  ORTHO/Ort_$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-OpIm-Assoc-Im2Ort </Key>\n",
"        <SubDirAutoMake> ORTHO </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  ORTHO/Incid_$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-OpIm-Assoc-Im2Incid </Key>\n",
"        <SubDirAutoMake> ORTHO </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  ORTHO/PC_$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-OpIm-Assoc-Im2PC </Key>\n",
"        <SubDirAutoMake> ORTHO </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)_MpDcraw8B_G(.\\..*) </PatternTransform>\n",
"                <CalcName>  $1_MpDcraw8B_C$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-Gray2Coul-StdMpDCraw </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <!--  1 - Cle pour le traiement  des orthos  -->\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  0.0  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Priorite-Ortho </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"  <KeyedSetsOfNames >\n",
"          <Sets>\n",
"             <PatternAccepteur>  Ort_(.*)\\.tif</PatternAccepteur>\n",
"             <!--\n",
"              <PatternAccepteur>  Ort_p3260115.tif</PatternAccepteur> \n",
"             -->\n",
"          </Sets>\n",
"          <Key> Key-OrthtoSet-All-OpIm </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"  <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> Ort_(.*)\\.tif </PatternTransform>\n",
"                <CalcName>  PC_$1.xml  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Orthto-Assoc-OpIm2Mtd </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> Ort_(.*)\\.tif </PatternTransform>\n",
"                <CalcName>  PC_$1.tif  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-OpIm2PC </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> Ort_(.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Incid_$1.tif  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   Key-Assoc-OpIm2Incid </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <!-- One-Two Pixel Matching radiometric calibration -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([0-9,A-Z,a-z]{2,4}) </PatternTransform>\n",
"                <CalcName>  Tmp-MM-Dir/#1$1_RadCal.#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  Tmp-MM-Dir/#1$1_RadCal.#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   NKS-Key-Im2OrtRadCal </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> $0 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   Key-Assoc-Id </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> F([0-9]+).*  </PatternTransform>\n",
"                       <CalcName> $1 </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"             <Key>   Key-Assoc-STD-FOC </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> OIS-Reech_.*  </PatternTransform>\n",
"                       <CalcName> NONE </CalcName>\n",
"                       <CalcName> NONE </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"            <Calcs>\n",
"                 <Arrite>  1 1 </Arrite>\n",
"                 <Direct>\n",
"                       <PatternTransform> .*  </PatternTransform>\n",
"                       <CalcName> Ori-InterneScan/MeasuresCamera.xml </CalcName>\n",
"                       <CalcName> Ori-InterneScan/MeasuresIm-$0.xml </CalcName>\n",
"                 </Direct>\n",
"             </Calcs>\n",
"\n",
"\n",
"             <Key>   Key-Assoc-STD-Orientation-Interne </Key>\n",
"             <SubDirAutoMake> Ori-InterneScan </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"    <!--  ###############################################-->\n",
"    <!--                                                 -->\n",
"    <!--  NOUVELLES CLES , POUR ETRE UTILISEES AVEC LES @ -->\n",
"    <!--                                                 -->\n",
"    <!--  ###############################################-->\n",
"\n",
"\n",
"    <!--   RELATIONS  -->\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  KeyStd-Set-OfPattern@#1   </KeySets>\n",
"                     <DeltaMin > -10000 </DeltaMin>\n",
"                     <DeltaMax > 10000  </DeltaMax>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > KeyStd-Rel-AllCpleOfPattern </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <ByAdjacence>\n",
"                     <KeySets>  KeyStd-Set-OfPattern@#1   </KeySets>\n",
"                     <DeltaMin >  -#2 </DeltaMin>\n",
"                     <DeltaMax >  #2  </DeltaMax>\n",
"                 </ByAdjacence>\n",
"            </Sets>\n",
"            <Key  > KeyStd-Rel-ChantierLineaire </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"    <KeyedSetsORels>\n",
"            <IsParametrized>  true </IsParametrized>\n",
"            <Sets >\n",
"                 <NameFileIn> #1 </NameFileIn>\n",
"            </Sets>\n",
"            <Key  > KeyStd-Rel-ByFile </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"\n",
"    <KeyedSetsORels>\n",
"       <IsParametrized>  true </IsParametrized>\n",
"       <Sets >\n",
"            <ByAdjacence>\n",
"                <KeySets>  KeyStd-Set-OfPattern@#1   </KeySets>\n",
"                <DeltaMax > 10000  </DeltaMax>\n",
"                <DeltaMin > -10000 </DeltaMin>\n",
"\n",
"                <Filtre>\n",
"                     <FiltreByRelSsEch>\n",
"                        <KeySet >  Key-Set-SsRes-HomolPastisBin          </KeySet>\n",
"                        <KeyAssocCple>  Key-Assoc-SsRes-CpleIm2HomolPastisBin   </KeyAssocCple>\n",
"                        <SeuilBasNbPts>  #2  </SeuilBasNbPts>\n",
"                        <SeuilHautNbPts> #2 </SeuilHautNbPts>\n",
"                        <NbMinCple> 100000 </NbMinCple>\n",
"                     </FiltreByRelSsEch>\n",
"                </Filtre>\n",
"            </ByAdjacence>\n",
"       </Sets>\n",
"       <Key  > KeyStd-Rel-SsECh </Key>\n",
"    </KeyedSetsORels>\n",
"\n",
"\n",
"\n",
"    <!--   =================================== -->\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> .*\\.#1  </PatternAccepteur>\n",
"	  </Sets>\n",
"          <Key> KeyStd-Set-WithExt </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> #1  </PatternAccepteur>\n",
"	  </Sets>\n",
"          <Key> KeyStd-Set-OfPattern </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .*%([0-9]+) </PatternTransform>\n",
"                <CalcName>  TheKeyCalib_#1$1  </CalcName>\n",
"                <NameTransfo>\n",
"                        <AddFocMul> 10 </AddFocMul>\n",
"                 </NameTransfo>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-KeyCalib </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .*%([0-9]+) </PatternTransform>\n",
"                <CalcName>  Bayer_#1_$1.xml  </CalcName>\n",
"                <NameTransfo>\n",
"                        <AddFocMul> 10 </AddFocMul>\n",
"                 </NameTransfo>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-CalibBayer </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Direct>\n",
"                <PatternTransform> .*%([0-9]+) </PatternTransform>\n",
"                <CalcName>  CalibGeomInit_#1_$1.xml  </CalcName>\n",
"                <NameTransfo>\n",
"                        <AddFocMul> 10 </AddFocMul>\n",
"                 </NameTransfo>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-CalibGeomInit </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> .* </PatternTransform>\n",
"                <CalcName>  #1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-Cste </Key>\n",
"    </KeyedNamesAssociations>\n",
"     <!-- Ajoute un post-fix -->\n",
"     <!-- Change l'extension du fichier -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.[a-z,A-Z,0-9]{3,4} </PatternTransform>\n",
"                <CalcName>  $1.#1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-ChangExt </Key>\n",
"    </KeyedNamesAssociations>\n",
"     <!-- Ajoute un post-fix -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1#1.$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-AddPost </Key>\n",
"    </KeyedNamesAssociations>\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.([a-z,A-Z,0-9]{3,4}) </PatternTransform>\n",
"                <CalcName>  $1#1.#2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-AddPost-and-ChangExt </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*) </PatternTransform>\n",
"                <CalcName>  #1$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-AddPref </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.(.*) </PatternTransform>\n",
"                <CalcName>  #1$1#2.$2  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-AddPrefPost </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"           <!-- ORIENTATIONS -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)#2\\.tif </PatternTransform>\n",
"                <CalcName>  Ori#1/Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori#1/Orientation-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1#2.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-Im2Orient-WithPost </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedSetsOfNames>\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> Orientation-(.*).xml  </PatternAccepteur>\n",
"		 <SubDir>   Ori#1/ </SubDir>\n",
"	  </Sets>\n",
"          <Key> KeyStd-Set-Orient </Key>\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.tif </PatternTransform>\n",
"                <CalcName>  Ori#1/Orientation-$1.xml  </CalcName>\n",
"             </Direct>\n",
"            <Inverse>\n",
"                <PatternTransform> Ori#1/Orientation-(.*).xml  </PatternTransform>\n",
"                <CalcName>  $1.tif  </CalcName>\n",
"             </Inverse>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-Im2Orient </Key>\n",
"	<SubDirAutoMake> Ori#1 </SubDirAutoMake>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> #1(.*)  </PatternTransform>\n",
"                 <CalcName>  $1 </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-SuprBefore  </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> F([0-9]{3})_.*  </PatternTransform>\n",
"                 <CalcName>  Ori#1/F$1_AutoCal.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <!-- Image Coul Loemi -->\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                 <PatternTransform> .*_(..?)x[0-9]{3}.*  </PatternTransform>\n",
"                 <CalcName>  Ori#1/F$1_AutoCal.xml </CalcName>\n",
"            </Direct>\n",
"        </Calcs>\n",
"        <Key>   KeyStd-Assoc-Im2AutoCal  </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"             <Arrite>  1 1 </Arrite>\n",
"             <Direct>\n",
"                  <PatternTransform> TheKeyCalib_(.*)  </PatternTransform>\n",
"                  <CalcName>  Ori#1/F$1_AutoCal.xml </CalcName>\n",
"              </Direct>\n",
"         </Calcs>\n",
"\n",
"\n",
"         <Key>   KeyStd-Assoc-CleCal2AutoCal </Key>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"           <!-- SPLIT POINTS HOMOLOGUES  -->\n",
"\n",
"    <KeyedSetsOfNames >\n",
"          <IsParametrized>  true </IsParametrized>\n",
"          <Sets> \n",
"                 <PatternAccepteur> Pastis(.*)/(.*)\\.(#2)  </PatternAccepteur>\n",
"		 <SubDir>   Homol#1/ </SubDir>\n",
"                 <NivSubDir> 2 </NivSubDir>\n",
"	  </Sets>\n",
"          <Key> KeyStd-Set-Homol </Key>\n",
"          <!--  <Key> KeyStd-Set-Homol@Eau </Key>  -->\n",
"    </KeyedSetsOfNames>\n",
"\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  2 1 </Arrite>\n",
"            <Direct>\n",
"                <PatternTransform> (.*)\\.${TifPost}@(.*)\\.${TifPost} </PatternTransform>\n",
"                <CalcName> Homol#1/Pastis$1/$2.#2  </CalcName>\n",
"             </Direct>\n",
"	     <Inverse>\n",
"                <PatternTransform> Homol#1/Pastis(.*)/(.*)\\.#2 </PatternTransform>\n",
"                <CalcName> $1.${TifPost}  </CalcName>\n",
"                <CalcName> $2.${TifPost}  </CalcName>\n",
"	     </Inverse>\n",
"        </Calcs>\n",
"        <Key>  KeyStd-Assoc-CplIm2HomBin </Key>\n",
"	<SubDirAutoMake> Homol#1 </SubDirAutoMake>\n",
"	<SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"    <!-- Pour spliter en deux des points homologues -->\n",
"    <KeyedNamesAssociations>\n",
"        <IsParametrized>  true </IsParametrized>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <Separateur> @ </Separateur>\n",
"                <PatternTransform> Homol(/.*)@0 </PatternTransform>\n",
"                <CalcName> Homol#1/$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Calcs>\n",
"            <Arrite>  1 1 </Arrite>\n",
"            <Direct>\n",
"                <Separateur> @ </Separateur>\n",
"                <PatternTransform> Homol(/.*)@1 </PatternTransform>\n",
"                <CalcName> Homol#2/$1  </CalcName>\n",
"             </Direct>\n",
"        </Calcs>\n",
"        <Key>  KeyStd-Assoc-H2H-SplitBin </Key>\n",
"        <SubDirAutoMakeRec> true </SubDirAutoMakeRec>\n",
"    </KeyedNamesAssociations>\n",
"\n",
"\n",
"\n",
"\n",
"\n",
"</ChantierDescripteur>\n",
"\n",
"</Global>\n",
"\n",
"","//#_-=+{}@$##$##@"};
